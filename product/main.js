(()=>{"use strict";var e={968:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.uint8_to_b64=t.b64_to_uint8=void 0;const n=[...String.fromCharCode(...new Array(26).fill(0).map(((e,t)=>65+t))),...String.fromCharCode(...new Array(26).fill(0).map(((e,t)=>97+t))),...String.fromCharCode(...new Array(10).fill(0).map(((e,t)=>48+t))),"+","/"],s=new Map(n.map(((e,t)=>[e,t])));s.set("=",0);const r=/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/;t.uint8_to_b64=e=>{var t,s;const r=Math.ceil(e.length/3),o=new Array(4*r);for(let i=0;i<r;i++){const r=e.subarray(3*i,3*(i+1)),a=r[0],l=null!==(t=r[1])&&void 0!==t?t:0,c=null!==(s=r[2])&&void 0!==s?s:0;o[4*i]=n[a>>2],o[4*i+1]=n[(3&a)<<4|l>>4],o[4*i+2]=n[(15&l)<<2|c>>6],o[4*i+3]=n[63&c]}return e.length%3==1&&(o[o.length-1]="=",o[o.length-2]="="),e.length%3==2&&(o[o.length-1]="="),o.join("")},t.b64_to_uint8=e=>{var t;if(!e.match(r))throw TypeError("The input does not match the base64 format.");const n=Math.trunc(e.length/4),o=(null!==(t=e.match(/={1,2}$/))&&void 0!==t?t:[])[0].length,i=new Uint8Array(3*n-o);for(let t=0;t<n;t++){const n=[...e.substring(4*t,4*(t+1))],[r,o,a,l]=n.map((e=>{var t;return null!==(t=s.get(e))&&void 0!==t?t:0}));i[3*t]=r<<2|o>>4,i[3*t+1]=(15&o)<<4|a>>2,i[3*t+2]=(3&a)<<6|l}return i}},924:(e,t,n)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.SOGameIO=void 0;const r=n(968);class o{static import(e,t,n="base64"){if(e.D1>o.exportSymbols.length)throw RangeError("The dimensional parameter 'D1' is too large.");if(t.length==e.D2?n="simple":"data:"==t.substring(0,5)&&(n="base64"),"simple"==n){const n=[];for(const[s,r]of Array.from(t).entries()){const t=s*e.D1;if(this.importSymbols.has(r))n.push(t+this.importSymbols.get(r));else for(const s of new Array(e.D1).keys())n.push(t+s)}return new Set(n)}if("base64"==n){const n=(0,r.b64_to_uint8)(t.substring(5)),s=[];for(const[t,r]of n.entries()){let n=8*t;for(let t=0;t<8&&!(n>=e.D3);t++)(r&1<<t)>0&&s.push(n),n++}return new Set(s)}throw TypeError(`'${n}' is not a valid format.`)}static export(e,t,n="base64"){if(e.D1>o.exportSymbols.length)throw RangeError("The dimensional parameter 'D1' is too large.");if("simple"==n){const n=new Array(e.D2).fill("!");for(const s of t){const t=Math.trunc(s/e.D1),r=s%e.D1;"!"==n[t]?n[t]=this.exportSymbols[r]:n[t]="."}return n.join("")}if("base64"==n){const n=new Uint8Array(Math.ceil(e.D3/8));for(const e of n.keys()){let s=0;for(let n=0;n<8;n++)t.has(8*e+n)&&(s|=1<<n);n[e]=s}return`data:${(0,r.uint8_to_b64)(n)}`}throw TypeError(`'${n}' is not a valid format.`)}}t.SOGameIO=o,s=o,o.exportSymbols=["1","2","3","4","5","6","7","8","9",...String.fromCharCode(...new Array(26).fill(0).map(((e,t)=>65+t))),...String.fromCharCode(...new Array(26).fill(0).map(((e,t)=>97+t))),"<",">"],o.importSymbols=new Map(s.exportSymbols.map(((e,t)=>[e,t])))},660:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mergiter=t.multirange=t.range=t.Range=t.BaseN=void 0;class n{constructor(e){this.base=e}static fromD(e,t){return e.reduce(((e,n)=>e*t+n),0)}fromDigits(e){return n.fromD(e,this.base)}static toD(e,t,n){const s=Array.from({length:t});for(let r=t-1;r>0;r--)s[r]=e%n,e=Math.trunc(e/n);return s[0]=e,s}toDigits(e,t){return n.toD(e,t,this.base)}}t.BaseN=n;class s{constructor(e,t){if(void 0===t){if(!Number.isInteger(e))throw TypeError("The inputs must be integer.");this.a=0,this.b=e}else{if(!Number.isInteger(e)||!Number.isInteger(t))throw TypeError("The inputs must be integer.");this.a=e,this.b=t}}at(e){return this.a+e}get length(){return this.b-this.a}set length(e){this.b=this.a+e}*keys(){const e=this.b-this.a;for(let t=0;t<e;t++)yield t}*values(){for(let e=this.a;e<this.b;e++)yield e}*[Symbol.iterator](){for(let e=this.a;e<this.b;e++)yield e}*entries(){const e=this.b-this.a;for(let t=0;t<e;t++)yield[t,this.a+t]}map(e){const t=this.b-this.a,n=new Array(t);for(let s=0;s<t;s++)n[s]=e(this.a+s,s);return n}forEach(e){const t=this.b-this.a;new Array(t);for(let n=0;n<t;n++)e(this.a+n,n)}}function*r(e,t=[]){if(0==e.length)return[];const n="number"==typeof e[0]?0:e[0][0],s="number"==typeof e[0]?e[0]:e[0][1];if(1==e.length)for(let e=n;e<s;e++)yield[...t,e];else for(let o=n;o<s;o++)yield*r(e.slice(1),[...t,o])}t.Range=s,t.range=(e,t)=>new s(e,t),t.multirange=(...e)=>r(e),t.mergiter=(...e)=>function*(e,n=[]){if(0!=e.length)if(1==e.length)for(const t of e[0])yield[...n,t];else for(const s of e[0])yield*(0,t.mergiter)(e.slice(1),[...n,s]);else yield[]}(e)},997:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.database=void 0,t.database=[{format:"simple",data:"956700000400800000300910700021000000000000300790000120000029003000008004000007650",desc:"Diabolic grade from SudokuWiki. (6 NS2 / F2 / X-cycle / 2 XY-chain)"},{format:"simple",data:"300750001000300020000009407020001005700000006500900070905100000070003000100068002",desc:"Devious grade from Sudoku+. (NS2 / 2 NS3 / 2 F2 / XY-chain / AIC)"},{format:"simple",data:"..3.5...7.96..85.....3.2...3....7.6...2...9...8.2....5...9.4.....18..63.4...1.8..",desc:"Devious grade from Sudoku+. (NS3 / F2 / 5 X-cycle / XY-chain)"},{format:"simple",data:"000008040009040000006203008042009003005000800800400970200307500000090300030800000",desc:"Devious grade from Sudoku+. (NS3 / F2 / 2 X-cycle / XY-chain)"},{format:"simple",data:"000004000000170600480356100004007500000010700500020034950000006120000008000000000",desc:"NS3 exampe from Hodoku."},{format:"simple",data:"000000060000030047032500000600007005207010908081004000000002000000000001005870000",desc:"NS4 exampe from Hodoku."},{format:"simple",data:"000030086000020000000008500371000094900000005400007600200700800030005000700004030",desc:"HS2 exampe from SudokuWiki."},{format:"simple",data:"009032000000700000162000000010020560000900000050000107000000403026009000005870000",desc:"2 NS2 / 2 HS2"},{format:"simple",data:"500010003006003002003200000002300076000050000190007500000009400200800600900040005",desc:"F3 example from SudokuWiki."},{format:"simple",data:"185026370060000000097008100010052090000060000030179040041600950000000000056290700",desc:"Grouped X-cycle example 1 from SudokuWiki"},{format:"simple",data:"001004060804000010000703000030002009000090000600100040000506000050000401040200700",desc:"Grouped X-cycle example 2 from SudokuWiki"},{format:"simple",data:"080007060700940008000380700070000100018050940003000080001065000400039006090800070",desc:"Grouped X-cycle example 3 from SudokuWiki"},{format:"simple",data:"204007005090000040030498000006029500000000000009350800000974020020000050400200309",desc:"Grouped X-cycle example 4 from SudokuWiki"},{format:"simple",data:"003706500000500001069040000002000050090602010070000200000050730400009000001307900",desc:"Grouped X-cycle example 5 from SudokuWiki"},{format:"simple",data:"100000460349600000000105000000000073560090040000200000050070030007003901901000000",desc:"Grouped X-cycle example 6 from SudokuWiki"},{format:"simple",data:"020050070300000000007106300000301600000000010006207000001900500870000039900000082",desc:"Grouped X-cycle example 7 from SudokuWiki"},{format:"simple",data:"000400080420000000900030010010070059050001300800040000508000007001902060002500008",desc:"vaithak/Sudoku-Generator (NS2 / 3 XY-chain / 2 AIC)"},{format:"simple",data:".8...9.3.....4....9.....8.2..8.....4......3292...13..76.9.51...5.132.......6..5..",desc:"By me: Unsolvable by mine #1"},{format:"simple",data:"4....1...68....5..1..9....6......6......74.3..3.61..8.7...8..6...239.....4....97.",desc:"By me: Unsolvable by mine #2"},{format:"simple",data:".9..8...3..5...7..42..7.........7..9....9.821..31.....3....5.47......1...71.....6",desc:"By me: Hell #1"},{format:"simple",data:"..64...5.5...9.....4.....3..1.6..8....23...4.7.......6..9.2......4...1......87..5",desc:"By me: Hell #2"},{format:"simple",data:"..2..85....9.5..1.3.1.....6...8....5..3.1..9.7..3.........27.63.........6..5.178.",desc:"By me: Extreme #1"},{format:"simple",data:"4...78.9......17.........84.43....7.56...3...........8.768..91..9..2....8...1.2.6",desc:"By me: Extreme #2"},{format:"simple",data:".1...9..39..71......6..4....9.4.15.73......8............4......7..8.51.452.9...3.",desc:"By me: Extreme #3"},{format:"simple",data:"17..5..9...6.......594...7...3..6.5..1.7..6..8...2.........45.....6..2..93...1...",desc:"By me: Extreme #4"},{format:"simple",data:"..2.6...3.8.2..9....7..8..51.....5..6..4...........129.9....8.2.4.5..3.....32....",desc:"By me: Extreme #5"},{format:"simple",data:"1.........96...3.8..3.496....4..3..9..7582..6......5....5..1....2..6..3....4...7.",desc:"By me: W-wing erasing 4 candidates"},{format:"simple",data:".5..137.....75.8....6.............946...8..1.5.....2...91..8..7...9......8....3..",desc:"By me: naked pair, X-cycle."},{format:"simple",data:"34..8..5..6.....7...9.....1.361......2..........4.28..6.5..9.17.......9.....532..",desc:"By me: naked pair/triple, X-cycle, AIC."},{format:"simple",data:"56....2......23.7.9......3..5....9......4.6...42..7..54.8.927..2....8.......3....",desc:"By me: naked pair/triple, X-cycle."},{format:"simple",data:"...1....6.7.4..5....63.8..........1.1...69.2.8.7.......3.....5..218.7.........3..",desc:"By me: naked pair, XY-wing, X-cycle."},{format:"simple",data:"...582....3.9..7.24.8..1.......57.6.........1.63.2...........4...9.3..5.5..84....",desc:"By me: XY-wing."},{format:"simple",data:"...58.41........8.4...7.....1...73...5.6....19..1..5...86.....7.....6...57...9..6",desc:"By me: naked pair, X-wing"},{format:"simple",data:"5.1.9..2.68.............1.7.7..1.....4.5....3.......4.3...897.....45.8..2......3.",desc:"By me: naked pair, X-wing"},{format:"simple",data:"....3......8.19....2.....51.6......9..3...7..4...53.6....7..5.6.4.....8.1....2.3.",desc:"By me: naked pair, X-cycle"},{format:"simple",data:"14.3....7....2...8.7....6...5...3....37.8...661.....8......19.......8.3.....95..2",desc:"By me: naked triple, XY-wing, AIC"},{format:"simple",data:".31...6..68...2........5..797.3........52...3....76.....4..975........122...6.4..",desc:"By me: naked pair/triple, X-cycle, X-wing, AIC"},{format:"simple",data:"......169..1..42.....5.......2.....39....7.....62.....1..6..5.4.4.8.......5.2.918",desc:"By me: naked triple, X-cycle"},{format:"simple",data:"...6721...2..3.............9...5...41.....7...5.....8..4372.6.95...1.3..7....6..5",desc:"By me: hidden triple"},{format:"simple",data:"45...2...8.17.................9.6....8..3..5..76.....11....9..4.....5376...4....8",desc:"By me: naked pair, XY-wing"},{format:"simple",data:"...6...82...7.94.5....5.7..9.....5..68..2.......5..9.8..3...67.5....6.1..1..8....",desc:"By me: NS2 / NS3 / F2 / 3 XY-chain"},{format:"simple",data:".59..1.....78....4.3.....2..4.21.......6.........54.6832.....8.....4...19...86..5",desc:"By me: NS2 / NS3 / HS2 / Grp X-cycle / 8 XY-wing / 2 AIC"},{format:"simple",data:"..9.6....1...2..94...5...2.....1.....9.6.7...7...5...8..4..5..75.6.4...1....8.2..",desc:"By me: NS2 / X-cycle / XY-chain / Rank -1 AIC"},{format:"simple",data:"..9.6.87...78.....4....9.2..4...8.5.......4....29.....3..1....75.6..29...71..62..",desc:"By me: 2 XY-chain"},{format:"simple",data:"6...3587......96.....8...51..51...49....2....47....2........5....7.96...19.......",desc:"By me: 2 X-cycle / XY-chain"},{format:"simple",data:"..............2.6191......2..8...1.....5....92..9.3..7...4...7.5.13....6..4.97...",desc:"By me: NS2 / NS3 / F2 / X-cycle / 3 XY-chain / AIC"},{format:"simple",data:".7.2.8.....2...1..6......53...3.....8...42.3.2...1..4.98.4.5...5...8.....2...9.6.",desc:"By me, 5 NS2 / 3 X-cycle / 2 XY-chain"}];const n=(e,n)=>{let s=0;e.split(/[\n\r]+/).forEach(((e,r)=>{e.length<81||"/*"!=e.slice(0,2)&&t.database.push({format:"simple",data:e,desc:n(++s)})}))};n("\n...4.8.....8.91.....7..6.3.4...7.89...2.1...77.5..2..6.5..2......4.....9.61...4..\n92...8..1.3.........7.5....4...7..9.....1.5.7.9...2.........6.......3.8..619..4..\n4...5...39.371.....7638....8.....5...6.....81..56........1..7.97.....1...2..4.8..\n\n.1...9.7.9..71...8....8...5..2.....7.6...24....5.78.9..8.1.....7..8.5..4.......3.\n...2.9.7.9537.......6..4..5.........3..5..4.114..78..2.8.......7.9.6..........83.\n\n\n.5..4.6.....2...71........85..3.......159.23...7......8....49.27...61.83..4......\n...........6.85..1..2...54.58..7.1...4......7...4.6...8...549.....9....3.1......6\n35..4......6....71...63.....8........4.59....2.....8........912....6..8..148...56\n7......24....9...5..5...1......3.4.1.4...2.....1..63..9724.....3........4..6...57\n7....1.24.3...8.6.2.5.6..3.6...3.........25....1....7.9.24.5....5.9....8.........\n.69..1.2.........5...7..1..6...3.4.1.4...2.9...184.....7.4..6..35...72....8......\n7..3.........9....28...4..9......4..8.3.725...9...6.7.97..8.....5....24...8.2....\n.69..18..13..9.......7...3..2.53..8..4...2.......4.37.972..................6.39..\n61...2..9...4...71.5.....823...8....2.17..................96..7..7.1....42.3...9.\n...........24...71754.....234.1.......17..8.5....23.1......6457.9........263.....\n.....2.4......85.1.5.93...2..9......2.....8...756......83.....7....14.6..2..5.1.8\n..857......2..8..17..9..6.....1.....2..74....8.5..39..1......57...8.42.........9.\n...5..3.99.24..57...4......3..18...6.....9....75........3...4......1..6........98\n.6..2.....3..7.65....8...299...6...4.823.....7.1..9.....5..3.6...............5.91\n..9.2.1....4...6.85...3..........2.46......15.41....8....7..8..1..6.2...32...5.9.\n86..2......4.7.....178..42...31...7.........5.4....3.6.....386.........3.2.4..7..\n......137.......58.1.8..4...5.1..27..8....9.5...2.....4..7....2..8..2..33.64.5...\n8....4.3.2.......8.17.........1......8.3..91...1.5..8.49...38.........4.3.64.57..\n3....9..8.1..5.72.49..........5.....5...8.9......7.61.8.9....6.......8...247.....\n3..6..4.8.1.....2.49............1.8....3....2..3..4..5.....5.6.75......11....8.93\n..2...4......5.....9.827.......9.3.4...3..972......61.8.91...6..5...2..1.24..8...\n....1.......4....949..2..36.67..1.8...13...7.9832......3..........9.2.4....76...3\n...6..4..6.8...729..5..7......59.......3.6.7..8...4...839.4.....5.9....1....6.5..\n.4......8.......566....921...35........83....7.......1.....6...5.84...2.31..25...\n.456...3..3...8..6.8..59........14....1......7..2..3......8..4.....73.2......5..7\n....1.7..........668.3.9.......6...24...37....5.....812..1.....5.8.7..2..1.9.5...\n9...12...1..7...5....3...1489.....7.....37....56.....1.79...5..5..4...2.....258..\n...6127.8.3.7...5.......2...9.5........8..69.75..........186........3.2931.9.....\n......4...9..1.7......58....8....9.11..26..5..........9..4...168...7.....2.5....4\n...7..4..3...1...546....1...8.....2.....6.3..........7...4.25..85.1.....6.1.398..\n.1...34.9.9......54.7..8......3..9.1....67..............3.82.1..5..7.2.......9.74\n....2...9...6.478...7...1...86..5....4.......2...916.......251.....7.2..6...3...4\n...7.......26...85.6..5............11.....3...35.9..4797.48....8...7.2.....5....4\n.5.......46.7...1..283..56......187....5.4..62.....3.........3...76..4....5.4....\n.5...67.......8...72..19.64.3.....79.795...2..........1.2.....8.9....4.1.....3...\n..1..6..3......91..28....6...4...8.9...5......168.........7....3.7.8.4..6..1.32..\n.........4...589.2..8...5.4...2.18...7......6....9......2...6.83...8......5143.9.\n9..........3..89..7..3...6.5....1.7...9.34...........51..9....8...6...5.68......7\n96....8....1..2.....8...7..1.2.5...98.6.........31...5.2.....7.....8..5....4.7..2\n...17..24.7.......2.8...73...2.5...98.6.2.......3....5...5.1..8..72..4..5........\n.6...38...7...25..24..9...11.2.5.6........3.7..4...........1..8....89...5......6.\n..5...82...1..2596.4.......1.27...4.8.6...3.....3......2..6.97......9......43..6.\n..517...43..........8...73....7..6...5.9.4.........2...2..6..7..1..8.......437.6.\n.....1...6..74.5...57.3.4............1.8...3.2.4...7.5.91.8.36............51.6.7.\n4......9..8.....1.1.7.38.2.97...3..1..68.42...34...7...............97..4...12..7.\n\n..356...7.8.7..5..1.....4.6.7..536.....8.....2.4..978......5...86..9.1......2....\n4.3....9..89..2..3......4....8253...5..8.4.......1.7..7.1....6..6..9.1..........8\n6.8.1.....9.......7.5.....9...5...764...8.3.1.....642....1...53.2...89...6.3.....\n.4..1....3.24.....7.5.63.........87.456.....1...9.6.2598.....53.......1.....9...2\n6.82....7..2.57.......6..49...5.18...5.7.23......3....9.....6..5...78..........82\n648.....7..2.5....71........3..4..7...6..23...7...64.....1..65..2..7..1....3.....\n....1..3.3..45...8.1....24..3.54.8.....7......7193..........65..2...8.....4.9....\n.8..1...4.....91.......7...96......38..7.6......2..5...7..2..18...9...7..42..1.3.\n...51.3...5......74..........4.....38...36...1..2.4.8..79...4.....9.32.5...8...3.\n.8...2..4.......6...13.7.5.9...5.7.........41.37.......7..2....6.8.4....5....163.\n.....23...5.......491.......6.15.7....5.3........94.8..7...54.8.....3..5.42......\n..6.123.4.5...9...4........9.......3.25.369.1......5.....6......1....2.5...871...\n4....7.....7154.3.8.2.6.......2..4.......1.......3.28..1.6......84.....3.7...3..6\n..1..76.5...1..8..8...69..43.62......2......9........75.......8....1..2..7.4...1.\n.318....5.....4.....2.6..7.3.......1.2...1.6....9...87.1.6..........59.3..9.83...\n43...7..5....548......6...4..62..4....8....6.14.9..2.751.............92..7...3...\n4.18..69.9.7.....2....6..7.....7.4...285.......5....8.5...9.7......1...3.....3...\n..........6..3.9.2981....73.......96.5.2.....3...95......9.8.2.....6....23.7...1.\n........14..83.........64.....1...96.5...7......6.5.8..4.9...2.1.....74.2.....61.\n5..4.9.....7....52....2.4.3..2..3......2.7..4.....5.87.4..1.....95.....8...7...1.\n5....98..4..83......1......87.1435...5..8....3.4.95....4..1...5.....274.2......19\n.....98..4..83..5..81..6.7....14.5.6.5928.1.....6..2....6.............4.2....4..9\n91.7........2.4..6..7.....5.......64....9.73.8.46..1..3....7....4..8.....58..9..1\n\n..2......5.........6.9.8.15..9.......2.4...3....65.....9...7.5...15..3.7..8..9..1\n..2............9..46.....1.1.9.....4..54.1.3....65......6..7.5.....8.3.77..329...\n.12.........2.4....6..38.1.........4..5....38.7.6......9.1....2...5..3..7...2.6.1\n.3...4..7.25..6...6.9...........9..38.....1....6.17..4.921...8....7.......12..9..\n.....4.97...9..3.....831....1..8..6........799..3.7..43.2......5...9.23.....6....\n.3...4..7..59.....6..8..........9.6.8..6..1.9.5...7..4...1...86..4....3....2..9..\n.......9742.9.6......8..4...17....6...3.52...9.......43...4...6.6...8.31.8.2.....\n.3....697..5.....8.....1.5...........4.6.2...9..31.8....2........4.9..317.126..4.\n.4.26.5...7.8...1..8..............36.2.6.1....9....275..2.....47............928.3\n....6.....79....1.2......49....27.........49.69...3275....1..5...8..69..4.5.....3\n1.3..9......8......86..5..........3....651.9...14..2..9......547...4..21...7.....\n14..6.5....9.....22...7.3...54....3....6...9..9148......2...7...3.546........2.6.\n1.....5......3..1.28..........9.71.63...5..9...........6.31..5...8..69....57...63\n.583....7..7.....6.....9...41...........914..3.....6...6.21.9...49.86.35......7..\n.58......9.71..8..6.........12.3...9.7....4.3..5.2..1....2.5.8.2...86.3.......7..\n..83..2.7.....28.....8.9.51412.........5....3.9.4.......3.1....2.9..6....8....7..\n15.3.4..7.3...2.4.6.....3....2..8.......91....954....87...........7...35.81......\n..8.64.....7.52.4.......3.1......5.98......2..954.7..8.6......42.9.8..3.......7..\n..2.1.....5...4..98.6....1...573.4.......2...4.....9.57..9.....2...46..3......286\n..2...3.....2.46.984....5....573..21.........4......3...3......21.5.6...5...7..8.\n9.........51.........3.7..2.......2.1.94......2.....35...9.81.42..5..7......7...6\n972..........84.......9....6.5.....11..4....7.2....9...6...8.5...85...9...41.32.6\n9..6.....3......7..4..9..1..85.394.......2..7.2.8..9......2......8.4..93.......86\n..5....4..1....2..2..34....7..2....5.....942....6.4.91.8...6.....2.........71.6.8\n8..1....6.....5.......4..197..2.1.6......9..3...6..7.....4..1..1.25.3.....47..65.\n..5..7.4..1..6.2...7......9....3.....51......3..6.4......49..3..6...3.74....12.5.\n...1.7.46..3......2...4..1.........56..8.9..3..86.4..1..7.......6.5...749......5.\n....2..46...9.5.........51.749...8..........3..8....9...7.96..2..2.8....9..71..58\n.6.32..7.........37...6..2.95.1..2..2..........1..3..9..2.31.57..9..4......7..9..\n1.5.2..7....5...9.7..46.....5......8.3......184...3...68....4.......43.....7.298.\n.65..9..4.........79....1...5..4.2.8...89.7......73...68...1......6....2.14..29..\n...3..8...2.51..9.79...8...9....62..........18....3...6......57.......1.3.4..2...\n..5..9.......17.9.........59..1.62...3....7..84.......6.2...4....96...1.3..7.2..6\n17.3......2.....8......81.2....4..51.....96....712..4.6.........4...3...93.57...4\n17......6...9..3.......8..22..8.6.5.5.4.3.6....71.59...8.......7.5...2...3...1..4\n.7.3..4.6.......8....46...22....6...5.47.......712..4..8.......7......1..32..18..\n\n...3.2..64.69...85...4..1..2.3..67...1..............43.8.........5...21.932..1.6.\n.8......4...7.....3...2....8.3..6.1..7.53.68...9.....5..5.9.34.1..........835...2\n......9.....78..2331.......8..9..2.74.153....2....7...7..69.3....6.....8....51...\n........469.7..1.3.1....85.8.......7...5.26..26..1.....25...3...3.....98....51...\n..2.6..74...7...2.......8.68..9.6.....1.3.....6.8....5.2...83..1....4.9....3..7.2\n.8..63.....47.5..3.1..29..........1.4..5..6..2.9..74..7.........3....5.89.......2\n......9...7..56.388.97............4.26.8.7...4...61....3.6..........5..7..8.12...\n.2.18....1.4....3.8.9.....4...2..7462..8.......7..1...9..67...2........7.48....5.\n.26.8.......9.6..8...7......8..3...6.6...7...49.5...2...5...412....9.3.........5.\n.2.1.4.........2.8.59..3...5....974.......59.....618...........61...5..774.3..6..\n..6...9..1.......8...7.31..5....9..6...84......7...8239........6...95.....83.2.5.\n18....6.2.6...7..5...4....19...1......5.......47..9.......3..9.5.6.........9851.6\n...5........1.7845..2...93...86..4.....87...........1.8...3..9...62.....4.3...12.\n.....3.7.36....845.5....9......1.......8..3.9.47....1..217.......6.4.7.......5..6\n1.4..3..2..9...8......68...938...45...5...36......9....2.7..........1.834.....1..\n..4...67.36..2.....5.4....19.8.1.4..2..........7.592...2...65...9.24...3.........\n5....28.79..........2.5.....46.9.17...1........8..4......9....5...278..4...1..3..\n....6...79...8....48.75..31..6..3.....1..74.9.......5......6.8..35......8......2.\n...4.28.796..8.......7......4...31..35....4....8..42..1...36..5....7.9.........2.\n.1.........7...5..48.7...3...6....7.3..8..4.9.9.6....3......78...5........9.45.26\n.1....8...6..81......75..3.2.6..3.7.........9..861....1...3...5..52..9....9.4...6\n....7.6...76.....2.93...8.1...7.5.......645.........2..5.6.1..83.8.4.2...17....9.\n18...3.....6.....22..45.......7.........645.3.4..9..27.5...1..........1.4.7....96\n1...7.6.....81.......4.6.7.8..72....7.9...5...45.9..2....6...48..............239.\n.8..7......6.....22.....8.1831..59..7....4.......9..2...26.1...3.............2.96\n...2..6.........3.29.456.............2....5.3.45.98.2......1.48.689....54.7..23..\n.8..4.........8.492...7.....917......3....5.6.4.....7....8.....6....429.....2.41.\n....4......3..87...5.1....389...5.2........8..4...2..142.81.6...1......7.7....4..\n.8.....5.1......4.254...86.8.......4.3..9.5....63......2.8.7.......3..97.....6.1.\n98...31..1...5......4..............47...9.5..5..38..71....17.3.6.8...2...75.....8\n.8..4....16...8.492..1.....8......2.7..49.5....6...9....98.7....1..3...7..5...4..\n.....6..2..198..........3...1.43...63.......7...71..9..275....45.....1.9..3...2..\n..5.76...2...8.7.5....5.3.17.....8.......9...68...25.3.2.......5.6...1..1...4....\n4.....9.22.1..37.5....54.......3.82..........6.4.1...3..7.9.6....63...7..9....2..\n......9....19.3.....8....61.194......5.86........12..3.2.....345.....1.....6....8\n.......8...1..37..9..2............26..28...1...47.....8...9.6..5.....1...9.64..58\n42........8..6.7..5.64....3....1.6.42..8......4.....7..7...3..6....2.381......5..\n...3.1..5.839.5..2..6...8.....2.9...2...4...9.4...6.7.87..5.4.....7....1.......2.\n4...81.65......7....64....3..8..9..4..5..71....153.2...7....4.6...7...8.....98...\n4.....9.5...96....5...7..13.3..1...4...............278..2.53..6..97.......4...5..\n...3.........6.7.2596..2.....8..9.5..6.....3.....3.27.872...4.6.....4..1..4......\n.....74...1....23.63.....51......1......285..8.2.3..7....56.....4.7.....2..4..96.\n.........41...6.3.6..2..75.56.9....81...2.....9..3...4..95.....3.....81.......9.7\n9.....4......5..396..2..75..6.........46..5.38...3..747....1.......9..15.5...3...\n.2.3...864.7.....9..........639.4...1....8.....2....7..8..61....4...2..5..1.8...7\n9...1..8.......23..3..49...5.3.....8.7.62..9.......6.478..61...3..7..815.........\n....3...76..1......1.95.......2.......9....3116...7.9...4...379.....8..2.7..9.81.\n495..........7......7..26........78.7.9....31..2.8.....5.62...9.3..4..62....9.8..\n4...3.....2..7.9....7.5.64.54..19....8.....31..2......8..6..3.....74....276...8..\n4..8....7.2..7..5....9..6..5.........8.46..31..2......8.....3..9..7....2..6.9.8..\n4..8.........7..5.3..9.26..5.3.1.......4.........87.9...4.2..79..1...5..2.6....1.\n..31.29..5...4.....29......74..1..2.8......9........46.3.5.6.....8....7....327..5\n...1.....57..4....12......4.4....32....7...91....5.7.......6.....849...3..4.2.8.5\n48.16.9.....94.........5.3.745.....8.......91.9........3..8......84.1.7.....2..6.\n.8.....57...943......8.5......6.93.8...........1...74...7..6.1......12.39.4......\n4...6...75..9..18.1..87..3.....1.....6...45...9.2..7......8..1....4..2.3.....7...\n..2.....5.5....7....4.2.89..6...9.5..7.....4.5...86...6.7...3.4...831...2.1......\n..2.1.46.3..94.7..7...........1.......8....46....8.1.....592...945.......3.7...8.\n..23.7....5.9.......4....9..6.1...5.17..5............7.....23.49.....6....17.4..9\n8...1..65...........4..5.9......9.5817........29.....7....923..9..8..67.....64...\n..2317............7.4.25....6....25...8..3.....9.8...76.....31....8....2.3....5..\n.94......75....3.....4...8..3.....7.....2.6.1....96.2.2....7.15..5....3.4.31.5.9.\n..4...1....8.1.34.....7....6..5....4...3......4.79.82..6....4.5.....2..6..3....9.\n...25.16.7.........2...3.8...2...9.4.87.......4..96..........1.8...4....4..165.98\n...2.8.6.7..6....21......896..58.9.......4...5.......3....3.4.5...9427...73..5...\n.....8..7.......4.12.......6...8....9.7..4.5.5......23...83.4...1..4......3.65.9.\n...3...5..........4...751..3....7.2...52.184.18..........5......76..951......86.9\n91...4.5...81.2.......7..9.3.48.........6.8..1.....7...3.5......7...9.1.......6..\n.....425.65..9......3..5..83.......1...2....3.82.4.........648.....3....5.17...3.\n..7.....6.5..92...4....51.83..8...2..........1.....76..3...6.8...6.395..5..7....9\n...3......58.92....2...5...36...7......2.1.431..9....5..........7...95.25....86.9\n.....2.....89..453.....571....6...4.5....8...28.3.....6.....9..1.5..3.8..7..1....\n.....2.9.7.89.....4.6....1.9..627...5..........4...16.....8.9..1....32......1..34\n...47....72......3.9..3..1.9..6278.5..7........4...1...3.58...1......28......6...\n....7..9.7.8..1.5...68.5.1....6..8..5...4.3......5..6..3.......14..9.......2.65..\n............9.1..34.6..5.....362..45........92....916..3.58....1.....2...7...6...\n......9...7..69.2..6...374...54....16..............879.9..572....42..5...56......\n..37.1.8.4.85.....1......4..8..7.6....7...4.2.42.....9.............96.1.2...8.397\n5....1..6.....9....6.8...459...7..3..1............58.....3..264.3.......2.61....7\n...7........56.12.1.........85...6......38..234..1..........26...4....18.5...439.\n..3.4.98.4...6..2...98....5.8.....3.6.....4....2.1.....9...7........65.82....439.\n.....41...4..3.....39.6...27.....231.....95....8..1.97........5623.5...9....72...\n..62....3.4......6......84.7...86...3..7.95.4....4..9..8761...........1..1....3..\n..6...15........7..3.1.......45.6.......2..8425.3......87.......2.4..7.9415..23..\n..62..1.3142...........7.......8....361....84...3..6...876.3........8..9..5..2.6.\n..6.9.1.3...8.5..6.....7.4..9......13.....58.....4........1..2..2..5...9.1597.3..\n.28...4..4..........79.213.....6..91.9148.....3..7...4.......7...3...2..2....7..5\n......459.1.53.....679.........6.7.1.......6..3.1...84.....4..3.73......2....78.5\n...716....19....2.5...........2...9.....853.....17.5.4.....49.3.73.5......6....1.\n32.71..5..1..3.6..5...4...8...2...91....85..2.....9......624....7.........6...8..\n....16459.1..3.....6..421...542.....7.....3....2..9.8.......9..97.8.1..6........5\n.51.7.....843...6........493......9...8.21.........1...9578.4....3.5...6.....6.5.\n.5.6.4..22..39...173.2..54.....6...4....21..5..9................43..9.7..2..3....\n.......82...39.....36.....9..2...8..4...216.....8..1.7.9...2.1...3.......2743....\n95..74....8...5.61....1.....1..6.89.4..9......6...........82.....31........4..95.\n.....43.2..43..7....6.1..4.3...6.........1...5..8...2...57...1.84...9.....7.36.5.\n7..84.9..1.....8.......2..495........3.15...9....6..8.3......7...9......82...16..\n.6...5.3.19...6..5.8..1.7......8...6..8.5...924.......3...9........2.158...4..6..\n7....5.......36.....391.7..........66.....2.92..3...8........7.4...2.1..8254.....\n7.........94...82.5.......4.5..8..1.63...7.......69....1.5..4..4.9.2...8....7.6..\n...8......94....25....12.6......43.66.8..7.49..13........5......7...31..8.5....9.\n8....29......9.35...6.8..2..2...16....1463...3.5......1.3.4..7....2..54.........6\n...1..9.4...7...5..96.8....4...71....7.46.2..3.5......1.......2.89.............96\n8......6....79...8..63...2..2.....39....6......5..8..7.5..4....6...17.4...2..5...\n8........21.7..3..5....47.......16.99...6...5....28.1..5...9..26..2...4..4..3....\n.37..2..4..4.9....5..3...2..28.7..39......28..............4....689.1....7..83..96\n6..9..........49....2.....5...3.1.6..8..9.2.....8....1....4..7..1..376.95.6......\n.5.....4.7.1........2..83.5...35...41.....2.....8.2.9...9.451.8....3...9.7....4..\n.5...3.......2.9..94...8..5.9...1...1..4..2....3.....1.2..45.......3.6..5...894.3\n...9.3..27..........2..831......1..4.8.4......638.2...3.9.4........376.9.......2.\n...91..4..3..2..8.......3.5......8...8...6.3746...2...3.9.........2..659...1...2.\n..24.7....3.26....9.5...6.......3...16..........7924.6.73..8........653.........2\n.1......8.3.2..1..9.53.....72.6.........4......8...41....5.8......9.6..4.9....7.2\n..2....9.83.26..4.....8...7.24..3...16...5..3.............2...1....7.5..5..1..7..\n6...5.3.....2.9......381.277.4.1......98.5..33......1...3.2.......9....4.9.....8.\n.1.....98..726...5.....16...2....8.9.......7.3.8..241....5....1...9...3...6...7.2\n1..5..6..7...3...4....8..7...8.....3.......51..47...............7.94...6.9.6.18.2\n...527....8....9..2...8...5......7636...9...1.1.....8..6..5..9..7...3.1.5..6....2\n.4.....3.7.......4.36.8......821.7..............7...8946..5...7.72...5..5....18..\n..9..763..8.1.....2.6.8.........47.36.7...4...1...5....6.......8......1..9.6.1.4.\n1..5.7.3.7.....9.4.3......5.5........2.3.8...314..52..........7...94..1.5...71...\n.2.5..71..3.7..26......4.......81...9.165.8.287............6......4..9....29....6\n4...637.........6....1.4.......8..7...165...28....9..1.9.........7.329....2.751.6\n.2..6.......7..2......2.5.3..6.8.47...1.....2..32....1.9...6......43.....829.5..6\n4...6.7...3.7...6......459..5...1...9..........3.4..5..948.6..7..74.2...3...7.1..\n.2...3..8..57...6......4.9.....8.4.9..1.5.....73...6.1..4...3........9..38...5.4.\n.6.1.3.....8.62.7...1.........2.8..6.896...12..24........3.....53..7..6...7...5..\n.6..4.92.9.85.2..1......6..1..2.8.......3.7....24....3.....4.....4.71..9......5..\n.651.3........2.....1....4.....9.4..4.9.35.12.....789...6.....75..8..2...1...6...\n76...............1....89.45..3.......89.3..126...1.8.....35.....3....26....9.65..\n.6..4..289.......1.2.78....1.3....5...96.57..6....78...9.......5.4..........2..34\n..936..1.1.6.....7...2...3.8...1.45....7..8...4...5........8...6.......3.7...9.2.\n.....7..41.6....8......163..6...3..2.2...6.9..4.8........4...6...8.5...34...3.1..\n289.....4.3.5.4........1..9.6..13.5.....4....9...2.3....2......6...5.7...7.6....8\n2.......4.3..94...75..8.......913....2.....9.......3......7.9..69...2.43....3.12.\n2893........5.4.8...4.....9.6..1..5...3.....19...2.....12.7..6.6..1......75......\n.65....7.3.18......7..9.6......4..63......941...3..5....62......3..8....15.6...39\n....21..83......95...59.6..5....28....3.5.9.1.4.3.8....9....1..4...........67..3.\n.65...37.3.........7..93..251..42......75.9....9..8.....6...1.4....89....5...42.9\n9..4.1....2.....9....5..6..5....2.63..37....1....18.2...6.....4.3..8..........2.9\n....2......1...4.58.4...6..5...4.8.....7.6..1.49...5...9...5.8.43...9......67....\n.........2...94..773.6..8.1.4....2....5..8....2.7.53...5...7.4.6.1....8........3.\n.96..14..2..3.....7...5.8.18...6...5.........1.9.4...8..32...4.......5...82..6...\n5..8.............7.3...289...7...2153........12.....68..32.7.......395..4....6..9\n5....142.....94..7..4.5.8........2...6...8...1..7..3.8...2....6..1.3.5..4.......9\n.....1....18..465....65....8.7..321..6..2.9.4..9.4...895...7.......3........1..3.\n..6........56...8494..3..5..5......212.49........6....79.....4....185.69.........\n.8..5...721.6.......783....65....8....34..6.......24.........4.....8....5....7..3\n3.6.....72.5....84.....12....4.13.....34..6.5...56....7..3......3.......5..94.1..\n....54..7.....9.8.9..831....5......2.234.........6....7.....5.84....57...6.9..123\n..6.54....1........4..3.2...5...........9.67.8.95.2....91.2...8..21..7....8..7..3\n7..3.5.......786....4.....2.7..5...99...2.8.........2..5.1.6..4.9.....1.4......98\n.2.34.9...1.2.8.....46....267.....3......18.....9...2...8..63....7...5..4...3...8\n7....59.......8..3.3....7.2.728.........21.6.18..6...7.5...63.4.9.....1.....3.2..\n7...4.....192............5.67.8..13..4..2.......9....7.5...6.7.3........4.15...9.\n7..3....1..9...........9.52..285.....437..8....5.6........9..74.....251....53..9.\n..6...7..8.2........7.5.9.4...27....6...4.3...4..8...1..45.8...12.7....8........9\n4.6....83.9...7.....7.5.....3............5.....96.357...4....3.....9.6..78..6.41.\n4....1..3..2..7.......5.9.45...7.8..6..1.....24...3..1...5..2.7..3.9........6.4..\n.....1...89.43...53.78.......12.9......1..3.........7..6......7....9...8.85.6.41.\n..6.21..3.9.....6.31......4......8.6..8.45...24......1.6...8.3....79..5.7.....4..\n..7.6.....2....9......17.24...5...1.7.9.4....612.8.......4.....9....813...3...8.6\n1..26..........971.....7...3......1....34.2..6...8..5...1..25.7.4.6...32.7..9....\n1.....3..4.6.........9.7.....452...9.5.....68...7..4.38.1.32....4...8....7.1.....\n...2.........5.971..8...6.4....267.9.5.3......1...9.5....4...97..5.......73.9.8..\n..7......4......7.5.8......3..5....9..93...686.27..4.......25.79..6..1......9.84.\n2..9...8......8........479..81..5..9.......387..2.3...8.7....25..4......56..32..4\n.......86..5....4.61.5......81..5......197...7.6.83.5...7...9.5.2...9.67.6..3....\n.4.97..8..7........1..24.93..1.4.2..4.........9.283...8.......5.....9.6.5...3...4\n2.......6......1.....5.4..3.8.....7..5..9.6...96.8.....3.4.692........6.5..7.28..\n.4..71..69..3......18..4....81..52...5.1...3...6...4.......6..5....5.3......3...4\n6...7..15..12....3..91..4...1.9...38..3.6..4.7........26..87....5............3...\n......9..5....6.738.9.3..2..169...........542.....8.6.2....7...3..6...84.........\n.......1......68.3.7.1.5.....6...73.9....1..2....4......45.....3.7....84....23.5.\n..28....5.....687..7.....26.1..5........6.......3.8...2.4..7.9.35..1.2...9....6.7\n63...49.55.......3....3..2..1.9.2...9..7.1.4......8.6.2.4.......5.....8...8...6.7\n3..68.....1.....5.....5...3.4..1....1.5.4.7.....9....67.....3.9..4.....2..68...1.\n..96.....4.......7......9.36..71........4...8.72.3.....8.5...69.3.1.9....2.....1.\n..9.....141.3.........5.9...43..8........673.87....1....1..43.95......7....87...4\n.5..87.........6...6.4......4..1......524...8..29.5.4.7.1.2.3.........7.9..8.35..\n..9......4..3.2..7...4....3...7....5.9...6....7..3.1...8.......5.4..98.2..6.7..1.\n......1..842.....676...9......9...45..3.7...8..9..4....3..4..8....856..9.1.......\n.95...1.....3.....7.1......1..93...54...7...862..8..3....14..8.......3.9...2...6.\n3..7..1...4.3.5.7..61........7..2..........98.29..4.....6....8.....56..9.18...4..\n...7.8..4......976..1..98..187.32.....36.......9..4...9.61.....2...5..1........6.\n.9........42...9.6..1.2...3.8.9...4....67.2......8.73...61475..2........518......\n.9.......1.....8.4...8.7.5.6.3...5..74.......8...14..2.2..3...7....863.....2...65\n5.....2..1...6.....6.8.7.5..13.....9..2.5.....5.6.4.3...6...987...4....1....79...\n..8..1.......6..9......71.361.7..5.......3.1..59..47...2..35.8..7.4...........4.5\n59...........62.....4..715.......54......3.......1.7.2.2...59.7...48.....812.9...\n..8...2.....5...94.....71.36..........29...1......47..4.6..5.....5.86...3...7.4..\n23.8....7...1..8..7...4.2........4...549..........73.6..7.5.....1..8...2....24.1.\n.....61....91...3......32...7...54....49.....8...17.5..273..6.4..3...5.2..87.....\n2..8..1....9....3..8...3.6.1....549....96....8...1...6.........413...5..5.8.24...\n.3.89.1..6....2..57.........7..3....3...6..2...24..3.6.....1..4......5..56....9.3\n.3..9.14.6........7.15...6....23............18..4...5..2.......4..6...7......4913\n..12.....2...439.58.......439.....81.1...7....24.........3.4.7.9..12.4........2.3\n.31.5..67..7...91.......3....546...16...3..42.........5........9..1....8....8.29.\n.31....6....8.....8.9.7....3..4.2..1.....7.4.72.5......82.9.....7...6..8.....5.9.\n.3......7.....3.....96....4....62..1.1......2...5.86..58.39..7.......45.1.6.8...3\n.312............1.....7......5462.........54.72.5...3.5...9.176.....64.....78....\n1...3...86.....7.......7.1.5...7.4...9..4..2...1..96.....7.5.93.5.3.....9.8.2....\n.....425.6..........38..9......7.4..89.......3.12.96....4..5..3.5.....4.9....1...\n..9.3...8....1...4.....791.....7.489.....6...3.1..9..5214...8..75.........84..5..\n1.96....86.5.1.......8.7......17..8.....4.3..3..2..6....4....93.5..9..........56.\n.......5..8..1.........7..65..1.348...75..3.......9....1....89...63..1.29.......7\n..82..5..51...8..73..1.....2..9...8.......6.......71.4...5..83...38..2....6.9....\n..8.3.......6....7..2.7.9....1...7.....4...5..853...947...1..36.5..6.2.....7.....\n..8.3.5...1.64.3...6....9...41.5...39.7..1..26......9.....1........6..7....7...15\n4..2....1.19.4.3...6.1..9..2..9.....937.8.65..8...7....9....8.....86.........3...\n.....95.1...64...7....7.9.8.4.......9.7..1.52....2......4.......53....7...6.93..5\n71............4..7...95..3.8...3...4.......5195.1..3..1.35..26..6...34...........\n7......4..9..1....48.9.......1.3.....3...2..1..4..8..6..35........7..419.......73\n.12..6.4....2.....48..5....8.....7.......285.9..1....6.7.5...6.......4.9.4.8.1..3\n.1....9.......46.7.8..5............46..492..1.5..7..2.1.3.49...5....3.1.2..8.....\n...38.94...5..4..7..6.......2.6......3.49...1....78....73....6.......41...9.6...3\n..149......5.3.89.8....1...2.....67.....4.2...63..7..4.8...5..7....1.9...1....4.3\n...49...2...2.....8....13......5.67...7......96.....1.38..6.....263.4.8.5....2.6.\n6..4..7....5.36......5...4.24....6.9.57..9.......27...384.............8...9..2..3\n63.....52..5...8....2..1.4.2...5.6......4..3....8.7.....4.6.12.......98.5..78....\n....9..5..7...6....92.7.....4.1.3.........2....3.27......9.5..772.3...85.19.....3\n81......3...3..6.........5..9..7....1.3.5.9.6.......8..2.73...84.52....1.3.19....\n....4.72..5938.6.4...........4..6...1834.......2.........7.45.8....6..9..38.9.2..\n.16....2...9..7.1...76.1......8........4..9.67....3..5.2.......4.......1.3..95..7\n....4...3.5..8.6.4..7.21...5....6...18..529....2......92..3.5...........6381..2..\n..65......5..87..4................3.1......76..2.1.4.59.17.4...4..2..3...3...5..7\n.7..8.9.4.4...27.1..3......7....3....1..7.5...5.........6.47..8...6..4..9...5....\n27.38.....4.............2.5..8...1..4.98..........1.765..1.73......3...2..4.58...\n...3.596.8.....7.1.....4...7.8.23....198..5.3.5.4.....5.6..73.8.8...............7\n........48..9..7...9.7..2.57.8.23.....9......3....1..65...........6.94.2.....86..\n.713..96..4...2.3......4......5.31....9.7.5..3..........61.7..8......4....4..8.17\n....7..2..46....1...8.....9.....6...1..4......9.815.....7..4.35...9...7.5..2..64.\n.......2.3.6.9.7..2.8...3......26......4..5.7.9...........6..3..1....8..53...76.1\n..1.7.4..3..5....8...6...59...7.....1..4.9....9...52..82...4.356....38....9.....1\n.51..8....4...2......641......7...9..62.......938..26.8....4..5...9..8....9.....1\n..137..2....5.........4.3.9.....6.....2....877.3.1......71..9..6.4....7.5.....6.1\n.84967............6.5.2.....7...82..93..4......1.....7...6...85....9.....4...5.7.\n.8..6...27.9..........2....4..1...3...2...8...5.......1..6..48.567.9.........5.7.\n3..9....2..9....6...5..3..847..58.........8...51......1..67..8.........3.4.3.59.6\n.8...7...7.9.....46..4.3.9...61.8....3....85...12..........24.5..7.9.........5..6\n...9.....7..58....6154......76.5....9.2..6..1.......4......248.......1.32.8....7.\n..29.....1.4....295.......8.....3....3..26.7.....1.3.....17...59...4....8..5...12\n...9..16...4.87.....3.......1..9.2.44.5.....1.......8..2..78.9.9..64..37.........\n7...5...3.6.3.7..95....1......7...5..3..2....2.94.5.....6...4.......2.37....39.1.\n.....4.....4.87..95.32......18...2..4.......1..9....8..2.....9..51.4...7...53.6..\n.....4.63.6.....2.5.....7.8.18..32...3...6..1....15.....6..8...9...4..3.8.7....1.\n....5.9.25.3........6.918.3.5.....9.38..2.............6....3.2..196..7.....4..1..\n.7..5.9.2.......1..26...8...5.86.....8...9.7...4..7..56.....5.....6.5..48..4....9\n....56.....3..8.17...7..8.3..2.......8..2.47.9....72...4.9.35...1..8...4.........\n1..3....2.....8....2...1.5...2....9.3..5..47..........64.9....8.1..8...4..547.1..\n.7.......5...48.....6.9...3......3.13.15..4.......7....47...5.8..96.....8.5...1..\n.8..........9.1....75..2..9.....9..2..1..897....51...32.97.5.....3...2..76..4....\n9...5.7...2....658...8.........39..2..1.2..76...51..........3....3..62..76...3.9.\n....5.7.1..497.........2....4.63.....31..89..69...7..........64....9.2...682....5\n..63..7....4..1....7....4.98..6...1.5.1...........7..32.....3.4...196.8.....4....\n9.63...2.3...7...8.7....4..8....9.....1.289....2....4..1.785.6....1....7.6.......\n.9..41..2....5.9.7.2.......6.5.8.2....2..681..38.......6...2........7..4.4..9..3.\n...6.1..........6732.9....1...7..2.347....8.9..8.......634..5...5...7........5.3.\n...64..8.18.2....73....8.516.......3.72.........1.....7.34..5....9.6.12.....9....\n..7...3...84...9.......8..1..5..9........681..3..24..5........8..9.6....2...9.73.\n.9...1...18.......3....845.......2...7.5.68.9....2.6..7......9.8...67...2..89..3.\n....3.5...4.8...129.25.....6....9....58.7.1....93...8........98...4...6...1...7..\n..6....47...8...129....1.......8.....58674.......256....5...4...9.4.3261...2....3\n........75..86...2....41.3.6......753.........1.32...4..57....8.974......6..9....\n..6.3....5....7.12......8......893......7..2..1...5..42.....49.897.5...........53\n1.6.....7.....79......4.8....4..93..3.....12.....2..8423..1.....9.....6.......75.\n9.5.........8..39.4...3.2..1...47....7.2.89........8.17......2...3....568.....7..\n....7.68..21......48........9....5.2..6.............7175..63.2...3..9...8....1.39\n.............5.3..4.793.2...98..7.....6...943........1.5......82..7.945......1...\n9....2.84....54....87....151...........218....4.6.58..7...6....2.3.......6....7.9\n...........1.5..9....936..5.9...7.6.57...8..3..2...8..7.9..3.2.........6.64.2..39\n..53..1.....5....81.6.2.79.......5.7.4....8.....416.292........4...59....5.7.....\n.2......4.9..612.8.........9..2....7...9.5.1...8.1......764.9...83.......5.7..4..\n.25...16.......2.......4.95.6.2.3.4....9.5....7..1..........9.348...9...65.......\n..5...16..9..61..........95.6.2.3..73...7..1....41..2921..4....4...5...2..9..2...\n...39...4..4.6...8.3.8..7..9.1............81.5......29...64.....8.15.6.2.59......\n..8..5....3..2.....76.41..3....1.5.....8.7..96....2...1.9..3.2...3....465........\n.....5..4......6..2.69..........45...5.86...9.41..2.8.1.9....2..8.....4.5......38\n9.86.5......7...91.7..4..5.8......6.......4.....592........37...8....14..24.7..3.\n......2.44357........9..85....31...2.......1.6.1........9.8......32..1...2..76.38\n......27...5...6.1...94......7...56...28..4......9.38..6.4.3...7.3.5.........6...\n.1.9.......5......2.3...9...6..8....1..7.98.....14..5.95.....4.8..2..7.9......12.\n618..45........61.2.......4..7...4...2.7..8..3.91....79..6..3...4.2...6..3..9...5\n....2.5.34...7..1.........4....8...11....98.6..9.......5.6..3..8....57..7364.....\n.1..245.......36.2.7....9.......2.....4....3...91.62....2....4.......7.973...8...\n61.9....3....7...2...56..8...7......1...5..3..8..4..5...26.7....4.....69.3.......\n..8.....6...1.6...5..2...1..5..2.7.9..3..18.5.9...7...2..96.4........2..4..5..1..\n128.4.............5.6.....4....2..497.36....5.....7...2....8.....571...84..5...6.\n..8..5.....4.7..82...2...........7...43.91.2...2...6.1.17..84..3.5..4.......3.16.\n12....97..3...............4.5.8.......36....5.....76.1..7..........1429.4...32.6.\n.28..5.76..4.76.8...6.8.3.4....23....4....8.5...4...3...796....3....4....8......7\n...6..7........218.783....4.17.2..4..4.7.3....3.1.6....83.....1..5...9.......5.26\n.5..8..3.....972....8....6............6.53.9.2..1.6.......6.4....5..198.4..87...6\n15.68.........7...9....2..4...........675...22.9...8.......94.162.4...87..1.....6\n...68..39......2.8.7...2.6.5..9.......6..3...2...4.875.8.....51..5..........7.3..\n.5.....3936...7.18....1......792.6.3...........9..68..7..2..4.16...3.........5.2.\n1..524...4....8..2........6..8.1...4.5....6...2..46..7....5.7....6..73..2.74..8..\n..3.2......5...1...82.39.5.......2.....8......21...5.7..9..37.1.1..8..49...4.....\n1..5.4..84..........2.39.5.67......4.....2...3.1.4......9.5..21..6..7.........86.\n1..5.4.......681...82.......783...9...48......2..46..7..9.53.2.........923...1..5\n......9..4...6.132.8..3..5.6..3...9............1...5.7.4....7.15....7....37.9..6.\n5...9..3...17...4..2...4.........4.8.....6..23.6.....9..75........68.......4..876\n5.....63.9.17......2.......1..........8...3....6...759.6..3...4.....7...2...19.76\n..4298...........5.2.....8..9.37.....5.....12.46...7..8.75..1.......7......4.9...\n57..9...........45.....498.1..37...8...9...1.3...2...98..5..........7..32.5.1..7.\n5.4..8..1..1....4...3.5.9...9.....68.5.94.........17..8..5........6..52..3..19...\n.....82....9......18...3...7.4..1..3...6....4258...........6.3...58...41.2.14...8\n...47..1...9...3.......3.75....2.89.9.3..7....5.3.4.....1.5.9.2..5.....1.2....6..\n..6..82.....2.....1....3.7......1.9.....8.5.4.5.39.1.......6.3..9...2...3.7.....8\n.3...821.4.9...3...8.9..4.5....21..3...6..5.........67..17....2..58.2.......4.6..\n..6..82........38.1.2........4.21.........5..2..394....4.75........3..413....9...\n.7.1........2......519.4...9......7..4...62.....3956.....4....32.7...1..6.......2\n.....8....6.25...73.1.....6...84.3...........72..9.64..........2..6.9.5.69.53...2\n.72.6.5......534.......4.2.91..........7..2........6.1..54...63.376.9.........7..\n",(e=>`Untested one generated by me, #${e}`)),n("\n/* Naked pair */\n...5.316.....1.2.7....7..5.7......35.532......1.4........9824..4.9...........1...\n\n/* Naked pair */\n..1......5..4.6..87.8.5.3...75..2..6.6...41..1..3...8.............6...53......91.\n\n/* Naked triple */\n..3...1.....4.6.7...5......2...3..65.7.5......9.6.8.3.........9...7.3...4...8...1\n\n/* Naked triple */\n..16..4....94....83.85....6.....28..7.5.....3......5.....8...3......5.......7..29\n\n/* Naked triple */\n..21.973.7......6..1..35.....8...15....5..329.4......7..9..12.....32....8........\n\n/* Naked triple twice */\n.8..7219...9...4...7..4.......157.....4............98.....2....59...43..71..96..5\n\n/* Naked triple twice */\n..5.72...6..5...78.....8.6.9...5.23...4............9.1.4.........681...7.12..6...\n\n/* X-wing */\n.8.......6..5.1...37.9.85......5.23.1.4...7......639.1...............32771...68..\n\n/* A bit difficult */\n.58.....94.......1.7.63.5...8.......641..8.......1..9....75.....2..........8.375.\n\n",(e=>`Not easy one generated by me, #${e}`))},501:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(Map,"merge",{value:function e(t,n){const s=new Map(t);for(const[e,n]of t.entries())s.set(e,n);for(const[t,r]of n.entries())if(s.has(t)){const n=s.get(t);r instanceof Set&&n instanceof Set?s.set(t,Set.union(n,r)):r instanceof Map&&n instanceof Map?s.set(t,e(n,r)):s.set(t,r)}else s.set(t,r);return s},enumerable:!1}),Object.defineProperty(Map.prototype,"filter",{value:function(e){const t=new Map;for(const[n,s]of this)e(n,s,this)&&t.set(n,s);return t},enumerable:!1}),Object.defineProperty(Map.prototype,"map",{value:function(e){const t=new Map;for(const[n,s]of this)t.set(n,e(n,s,this));return t},enumerable:!1}),Object.defineProperty(Map.prototype,"clearEmptyKeys",{value:function(){const e=new Map;for(const[t,n]of this)void 0!==n&&(n instanceof Set&&0==n.size||n instanceof Map&&0==n.size||e.set(t,n));return e},enumerable:!1})},361:function(e,t,n){var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(570),t),r(n(501),t),r(n(110),t)},110:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MSet=void 0;class n extends Map{constructor(e){if(super(),e instanceof n)for(const[t,n]of e)this.set(t,n);else if(e)for(const t of e)this.add(t)}get count(){let e=0;for(const t of this.values())e+=t;return e}sum(e){var t;let n=0;for(const s of e)n+=null!==(t=this.get(s))&&void 0!==t?t:0;return n}first(){return this.keys().next().value}safeGet(e){var t;return null!==(t=this.get(e))&&void 0!==t?t:0}safeSet(e,t){return t?this.set(e,t):this.delete(e),this}mod(e,t){var n;return this.safeSet(e,(null!==(n=this.get(e))&&void 0!==n?n:0)+t),this}trim(){for(const[e,t]of this)t||this.delete(e);return this}add(e){return this.mod(e,1)}remove(e){return this.mod(e,-1)}elements(){return this.keys()}every(e){for(const[t,n]of this)if(!e(t,n,this))return!1;return!0}some(e){for(const[t,n]of this)if(e(t,n,this))return!0;return!1}filter(e){const t=new n;for(const[n,s]of this)e(n,s,this)&&t.set(n,s);return t}static sanitize(e){return e instanceof n?e:new n(e)}static geqZero(e){for(const t of e.values())if(t<0)return!1;return!0}static geq(e,t){for(const[n,s]of e)if(s<t.safeGet(n))return!1;for(const[n,s]of t)if(e.safeGet(n)<s)return!1;return!0}static add(...e){if(0==e.length)return new n;const t=new n(e[0]);for(let s=1;s<e.length;s++)for(const[r,o]of n.sanitize(e[s]))t.mod(r,o);return t}static diff(e,t){const s=new n(e);for(const[e,r]of n.sanitize(t))s.mod(e,-r);return s}static max(...e){if(0==e.length)return new n;const t=new n(e[0]);for(let s=1;s<e.length;s++){const r=n.sanitize(e[s]);for(const[e,n]of r)t.safeSet(e,Math.max(n,t.safeGet(e)));for(const[e,n]of t)n<0&&!r.has(e)&&t.delete(e)}return t}static min(...e){if(0==e.length)return new n;const t=new n(e[0]);for(let s=1;s<e.length;s++){const r=n.sanitize(e[s]);for(const[e,n]of r)t.safeSet(e,Math.min(n,t.safeGet(e)));for(const[e,n]of t)n>0&&!r.has(e)&&t.delete(e)}return t}}t.MSet=n},570:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(660),r=function(...e){if(0==e.length)return new Set;if(1==e.length)return new Set(e[0]);if(2==e.length){const[t,n]=e[0].size>e[1].size?e:e.reverse(),s=new Set(t);for(const e of n)s.add(e);return s}return r(r(...e.slice(0,2)),...e.slice(2))},o=function(...e){if(0==e.length)throw RangeError("Set intersection requires at least one set.");if(1==e.length)return new Set(e[0]);if(2==e.length){const[t,n]=e[0].size<e[1].size?e:e.reverse(),s=new Set(t);for(const e of t)n.has(e)||s.delete(e);return s}return o(o(...e.slice(0,2)),...e.slice(2))};Object.defineProperty(Set,"union",{value:r,enumerable:!1}),Object.defineProperty(Set,"intersection",{value:o,enumerable:!1}),Object.defineProperty(Set,"diff",{value:function(e,t){const n=new Set(e);for(const e of t)n.delete(e);return n},enumerable:!1}),Object.defineProperty(Set.prototype,"filter",{value:function(e){const t=new Set;for(const n of this)e(n,this)&&t.add(n);return t},enumerable:!1}),Object.defineProperty(Set.prototype,"map",{value:function(e){const t=new Set;for(const n of this)t.add(e(n,this));return t},enumerable:!1}),Object.defineProperty(Set.prototype,"mapUnion",{value:function(e){const t=new Set;for(const n of this)for(const s of e(n,this))t.add(s);return t},enumerable:!1}),Object.defineProperty(Set.prototype,"subsets",{value:function(e){const t=[...this],n=function*(r=0,o=e,i=new Set){if(0!=o)if(o!=t.length-r)for(const e of(0,s.range)(r,t.length+1-o))yield*n(e+1,o-1,new Set(i).add(t[e]));else yield Set.union(i,new Set(t.slice(r)));else yield i};return n()},enumerable:!1}),Object.defineProperty(Set.prototype,"subsetsReduced",{value:function*(e,t,n){const r=[...this],o=function*(i=0,a=e,l=new Set,c=n){if(0!=a)if(a!=r.length-i)for(const e of(0,s.range)(i,r.length+1-a)){const n=r[e];yield*o(e+1,a-1,new Set(l).add(n),t(c,n))}else{const e=r.slice(i);yield[Set.union(l,new Set(e)),e.reduce(t,c)]}else yield[l,c]};return o()},enumerable:!1}),Object.defineProperty(Set.prototype,"every",{value:function(e){for(const t of this)if(!e(t,this))return!1;return!0},enumerable:!1}),Object.defineProperty(Set.prototype,"some",{value:function(e){for(const t of this)if(e(t,this))return!0;return!1},enumerable:!1})},316:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SOPuzzle=t.SOFace=t.SOEdge=t.SOVertex=t.SOIncidenceElement=void 0,n(361);const s=n(660);class r{constructor(){this.selector="",this.$={v:new Set,rc:new Set,rk:new Set,ck:new Set,bk:new Set,grp:new Set,als:new Set,alf:new Set}}*incident(e){if("string"==typeof e)yield*this.$[e];else for(const t of e)yield*this.$[t]}}t.SOIncidenceElement=r;class o extends r{constructor(e,t,n){super(),this.selector=`#v:${t}`,this.type=e,this.id=t,this.name=n}}t.SOVertex=o;class i extends r{constructor(e,t,n){super(),this.type=e,this.id=t,this.name=n,this.proj=this}}t.SOEdge=i;class a{constructor(e,t,n){this.type=e,this.id=t,this.name=n,this.$={v:new Set,rc:new Set,rk:new Set,ck:new Set,bk:new Set}}*incident(e){if("string"==typeof e)yield*this.$[e];else for(const t of e)yield*this.$[t]}}t.SOFace=a;class l{constructor(e,t){var n,r;if(this.isVertexID=e=>Number.isInteger(e)&&e>=0&&e<this.D3,this.isVertexIDSet=e=>!!e&&e.every((e=>this.isVertexID(e))),!l.isDimParam(e))throw RangeError(`'${e}' is not a valid dimensional parameter.`);this.type="sudoku original",this.p=e,this.D1=Math.pow(this.p,2),this.D2=Math.pow(this.D1,2),this.D3=Math.pow(this.D1,3),this.adV=[],this.adE={rc:[],rk:[],ck:[],bk:[],grp:[],als:[],alf:[]},this.adF={row:[],col:[],box:[],key:[]};for(const[e,t,n]of this.__loopRawFaces())this.adF[t][n]=new a(t,n,`${t}${n+1}`);for(const[e,t,n,r,o]of this.__loopRawEdges()){const[e,a]=s.BaseN.toD(n,2,this.D1),l=new i(t,n,`${t}${e+1}${a+1}`);l.$[r]=this.adF[r][e],l.$[o]=this.adF[o][a],"rc"!=t&&(l.proj=this.adF[r][e]),this.adE[t][n]=l}t=null!=t?t:new Set((0,s.range)(this.D3));for(const e of t){if(!this.isVertexID(e))throw RangeError(`'${e}' is not a valid vertex ID.`);const[t,i,a]=s.BaseN.toD(e,3,this.D1),c=s.BaseN.toD(e,6,this.p),d=s.BaseN.fromD([c[0],c[2]],this.p),h=(s.BaseN.fromD([c[1],c[3]],this.p),new o("genuine",e,`${a+1}[${t+1},${i+1}]`));h.$.rc.add(this.adE.rc[s.BaseN.fromD([t,i],this.D1)]),h.$.rk.add(this.adE.rk[s.BaseN.fromD([t,a],this.D1)]),h.$.ck.add(this.adE.ck[s.BaseN.fromD([i,a],this.D1)]),h.$.bk.add(this.adE.bk[s.BaseN.fromD([d,a],this.D1)]),h.$.row=this.adF.row[t],h.$.col=this.adF.col[i],h.$.box=this.adF.box[d],h.$.key=this.adF.key[a],this.adV[e]=h;for(const e of l.edgeTypesGenuine){for(const t of h.$[e])t.$.v.add(h);for(const t of l.edgeTypesGenuine)for(const n of h.$[e])for(const e of h.$[t])n.$[t].add(e)}for(const e of l.faceTypes){null===(n=h.$[e])||void 0===n||n.$.v.add(h);for(const t of l.edgeTypesGenuine)for(const n of h.$[t])null===(r=h.$[e])||void 0===r||r.$[t].add(n)}}}static*incident(e,t){if(e instanceof o)yield*e.incident(t);else for(const n of e)yield*n.incident(t)}getVisibles(e){return new Set(e.incident(l.edgeTypes)).mapUnion((e=>e.$.v)).filter((t=>t!=e&&"genuine"==t.type))}*__loopRawEdges(){for(const[e,t,n]of l.edgeTypeTriples)for(const r of(0,s.range)(this.D2))yield[this.adE[e][r],e,r,t,n]}*__loopRawFaces(){for(const e of l.faceTypes)for(const t of(0,s.range)(this.D1))yield[this.adF[e][t],e,t]}*loopEdges(e){for(const t of e)yield*this.adE[t]}}t.SOPuzzle=l,l.edgeTypes=["rc","rk","ck","bk","grp","als","alf"],l.edgeTypesGenuine=["rc","rk","ck","bk"],l.faceTypes=["row","col","box","key"],l.edgeTypeTriples=[["rc","row","col"],["rk","row","key"],["ck","col","key"],["bk","box","key"]],l.isDimParam=e=>Number.isInteger(e)&&e>0&&e<=8},424:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SOSolver=void 0,n(361);const s=n(787),r=n(316),o=n(554);class i extends s.Originator{constructor(e,t){super(),this.game=e,this.canvas=new o.PuzzleCanvas(t),this.snapshot={vertices:new Set,clues:new Set,determined:new Set,pencilmarked:new Set,annotations:[]},this.selected=-1}load(e,t){this.snapshot=e.snapshot,this.selected=e.selected,this.printLogs(e.logs,t),this.render()}printLogs(e,t){console.clear();for(const t of e)console.log(t)}render(){var e,t,n,s,o,i;const a=this.snapshot.vertices,l=this.snapshot.clues,c=this.snapshot.determined,d=this.snapshot.pencilmarked,h=this.snapshot.annotations,f=new r.SOPuzzle(this.game.p,a),u=this.canvas,p=u.style;u.cellRects.clearAll(),u.cellTexts.hideAll().clearAll(),u.markRects.hideAll().clearAll(),u.markTexts.hideAll().clearAll(),u.drawing.html("");for(const e of f.loopEdges(["rc"])){const t=e.$.v;1==t.size?t.forEach((t=>{l.has(t.id)?u.cellTexts.show(e.id).html(`${p["mark-symbols"].charAt(t.id%9)}`).attr({fill:"blue"}):c.has(t.id)?u.cellTexts.show(e.id).html(`${p["mark-symbols"].charAt(t.id%9)}`):u.markTexts.show(t.id)})):0==t.size?u.cellTexts.show(e.id).html("X").attr({fill:"red"}):d.has(e.id)&&t.forEach((e=>{u.markTexts.show(e.id)}))}for(const r of h){const a=r.match(/^highlight (\S+) ([\d\s,]+) as (.*)$/),l=r.match(/^unhighlight (\S+) ([\d\s,]+)$/);if(a){const r=a[1],l=a[2].split(/[\s,]+/).map((e=>Number.parseInt(e))),c=a[3];for(const a of l)if(!(a<0))if("mark"==r){if(null===(e=u.markRects.show(a))||void 0===e||e.attr(p[`rect:${c}`]),null===(t=u.markTexts.get(a))||void 0===t||t.attr(p[`text:${c}`]),"removed"==c){const e=u.markRects.get(a).element,t=e.getAttribute("x"),n=e.getAttribute("y"),s=e.getAttribute("width"),r=e.getAttribute("height");u.drawing.path({d:`M ${t} ${n} l ${s} ${r} m -${s} 0 l ${s} -${r}`}).attr({stroke:"red"})}}else if("cell"==r||"rc"==r)null===(n=u.cellRects.show(a))||void 0===n||n.attr(p[`rect:${c}`]),null===(s=u.cellTexts.get(a))||void 0===s||s.attr(p[`text:${c}`]);else if("row"==r||"col"==r||"box"==r)for(const e of f.adF[r][a].$.rc)null===(o=u.cellRects.show(e.id))||void 0===o||o.attr(p[`rect:${c}`]),null===(i=u.cellTexts.get(e.id))||void 0===i||i.attr(p[`text:${c}`])}else if(l){const e=l[1],t=l[2].split(/[\s,]+/).map((e=>Number.parseInt(e)));for(const n of t)if(!(n<0))if("mark"==e)u.markRects.clearStyle(n),u.markRects.hide(n),u.markTexts.clearStyle(n);else if("cell"==e||"rc"==e)u.cellRects.clearStyle(n),u.cellTexts.clearStyle(n);else if("row"==e||"col"==e||"box"==e)for(const t of f.adF[e][n].$.rc)u.cellRects.clearStyle(t.id),u.cellTexts.clearStyle(t.id)}}}}t.SOSolver=i},273:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AICExplore=t.AICExpState=t.AICTruth=t.AICStrength=void 0;const s=n(316),r=n(424),o=n(660),i=n(110);var a,l;r.SOSolver.prototype.AICGenerator=function(e,t,n,s){return r=>{var o,i,a,l,c,d,h,f,u,p,m,g,y;const v=new Set(this.snapshot.vertices),k=new Array,w=new Array,S=[{type:"initial",logs:[`title expert "${e}"`],snapshot:{annotations:k}},{type:"middle",logs:[],snapshot:{annotations:w}},{type:"final",logs:[],snapshot:{vertices:v,annotations:[]}}];for(const e of r.loopAIC(t,n,s)){const t=e.vertexChain,n=t.filter(((e,t)=>t%2==0)),s=t.filter(((e,t)=>t%2==1));if(n.forEach((e=>{k.push(`highlight mark ${e.id} as intersect`)})),s.forEach((e=>{k.push(`highlight mark ${e.id} as based`)})),-1==e.rank){null===(o=S[0].logs)||void 0===o||o.push(`log "A nice discontinuous loop of rank -1 and order ${e.strongEdges.size} has been found."`),null===(i=S[0].logs)||void 0===i||i.push(`log "${t.map(((e,t)=>`${t%2?"X":""}${e.name}`)).join(" -- ")}"`),null===(a=S[0].logs)||void 0===a||a.push(`log "The discontinuity at ${e.conflictAt.name} is determed as true."`),k.push(`highlight mark ${e.conflictAt.id} as determined`),w.push(`highlight mark ${e.conflictAt.id} as determined`);for(const t of r.getVisibles(e.conflictAt))v.delete(t.id),null===(l=S[1].logs)||void 0===l||l.push(`log "${t.name} can see the determined candidate."`),null===(c=S[2].logs)||void 0===c||c.push(`log "${t.name} is erased."`),w.push(`highlight mark ${t.id} as removed`);return S}if(0==e.rank){t.pop(),null===(d=S[0].logs)||void 0===d||d.push(`log "A nice continuous loop of rank 0 and order ${e.strongEdges.size} has been found."`),null===(h=S[0].logs)||void 0===h||h.push(`log "${t.map(((e,t)=>`${t%2?"X":""}${e.name}`)).join(" -- ")} -- cycle"`),n.forEach((e=>{w.push(`highlight mark ${e.id} as intersect`)})),s.forEach((e=>{w.push(`highlight mark ${e.id} as based`)}));for(const[t,n]of e.weakOnlyVertices)n<=e.rank||(v.delete(t.id),null===(f=S[1].logs)||void 0===f||f.push(`log "${t.name} can see both colors of the loop."`),null===(u=S[2].logs)||void 0===u||u.push(`log "${t.name} is erased."`),w.push(`highlight mark ${t.id} as removed`));return S}if(1==e.rank){t.pop(),t.shift(),null===(p=S[0].logs)||void 0===p||p.push(`log "A nice discontinuous loop of rank 1 and order ${e.strongEdges.size} has been found."`),null===(m=S[0].logs)||void 0===m||m.push(`log "${t.map(((e,t)=>`${t%2?"":"X"}${e.name}`)).join(" -- ")}"`),k.push(`unhighlight mark ${e.conflictAt.id}`),n.forEach((e=>{w.push(`highlight mark ${e.id} as intersect`)})),s.forEach((e=>{w.push(`highlight mark ${e.id} as based`)}));for(const e of Set.intersection(r.getVisibles(t[0]),r.getVisibles(t[t.length-1])))v.delete(e.id),null===(g=S[1].logs)||void 0===g||g.push(`log "${e.name} can see both endpoints."`),null===(y=S[2].logs)||void 0===y||y.push(`log "${e.name} is erased."`),w.push(`highlight mark ${e.id} as removed`);return S}}return[]}},function(e){e[e.Weak=0]="Weak",e[e.Strong=1]="Strong",e[e.Any=2]="Any",e[e.Never=3]="Never"}(a=t.AICStrength||(t.AICStrength={})),function(e){e[e.False=0]="False",e[e.True=1]="True",e[e.Any=2]="Any",e[e.Never=3]="Never"}(l=t.AICTruth||(t.AICTruth={}));class c{constructor(e,t,n,s,r){this.vertex=e,this.dist=null!=t?t:1/0,this.prev=null!=n?n:null,this.lastEdge=null!=s?s:null,this.lastEdgeStr=null!=r?r:a.Any,this.initTruth=this.computeInitTruth()}computeInitTruth(){switch(this.lastEdgeStr){case a.Weak:return this.dist%2?l.True:l.False;case a.Strong:return this.dist%2?l.False:l.True;case a.Any:return l.Any;case a.Never:return l.Never}}get edgeHistory(){let e=this;const t=[];for(;e&&e.lastEdge;)t.unshift(e.lastEdge),e=e.prev;return t}get vertexHistory(){let e=this;const t=[];for(;e;)t.unshift(e.vertex),e=e.prev;return t}}t.AICExpState=c;class d{constructor(e,t,n){this.root=new c(e,0),this.states=new Map([[e,this.root]]),this.queue=[e],this.sDir=t,this.wDir=n}*explore(e){let t=!0;for(;t;){t=!1;for(const[n,s]of this.queue.entries()){const r=this.states.get(s);if(!(r.dist>=e)){this.queue.splice(n,1),yield*this.propagate(r),t=!0;break}}}}*propagate(e){var t;const n=e.vertex;for(const r of s.SOPuzzle.incident(n,s.SOPuzzle.edgeTypes)){const s=r.type,o=d.regardAs(e.lastEdgeStr,2==r.$.v.size?a.Strong:a.Weak);if(o!=a.Never&&!(o==a.Strong&&-1==this.sDir.indexOf(s)||o==a.Weak&&-1==this.wDir.indexOf(s)))for(const s of r.$.v){if(s==n)continue;if(s==(null===(t=e.prev)||void 0===t?void 0:t.vertex))continue;const i=new c(s,e.dist+1,e,r,o),a=this.resolve(i);if(a)return void(yield a)}}}resolve(e){const t=this.states.get(e.vertex);if(t){if(e.prev==t.prev)return;if("abstract"==e.vertex.type)return;if(e.initTruth==t.initTruth)return void(e.dist<t.dist&&(this.states.set(e.vertex,e),this.queue.push(e.vertex)));{const n={rank:0,conflictAt:e.vertex,strongEdges:new Set,strongVertices:new i.MSet,weakEdges:new Set,weakVertices:new i.MSet,weakOnlyVertices:new i.MSet,vertexChain:new Array};e.lastEdgeStr==t.lastEdgeStr&&(n.rank=e.lastEdgeStr==a.Strong?-1:1);const s=[...e.edgeHistory.reverse(),...t.edgeHistory],r=(e,t)=>t%2==0,o=(e,t)=>t%2==1,l=e.lastEdgeStr==a.Strong;if(n.strongEdges=new Set(s.filter(l?r:o)),n.weakEdges=new Set(s.filter(l?o:r)),n.strongVertices=i.MSet.add(...n.strongEdges.map((e=>e.$.v))),n.weakVertices=i.MSet.add(...n.weakEdges.map((e=>e.$.v))),n.weakOnlyVertices=i.MSet.diff(n.weakVertices,n.strongVertices),n.rank>=0&&!n.weakOnlyVertices.some(((e,t)=>t>n.rank&&"genuine"==e.type)))return;return n.vertexChain=[...e.vertexHistory.reverse(),...t.vertexHistory.slice(1)],n}}this.states.set(e.vertex,e),this.queue.push(e.vertex)}static regardAs(e,t){switch(e){case a.Strong:return a.Weak;case a.Weak:return t===a.Strong?a.Strong:a.Never;case a.Any:return t;case a.Never:return a.Never}}}t.AICExplore=d,s.SOPuzzle.prototype.loopAIC=function*(e,t,n){const r=new Map;for(const i of(0,o.range)(2,n+1))for(const n of this.adV){if(!n)continue;if([...s.SOPuzzle.incident(n,s.SOPuzzle.edgeTypesGenuine)].some((e=>1==e.$.v.size)))continue;r.has(n)||r.set(n,new d(n,e,t));const o=r.get(n);yield*o.explore(i)}}},613:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(424);s.SOSolver.prototype.fishGenerator=function(e){if(!Number.isInteger(e)||e<2||e>4)throw RangeError("Invalid range of parameter.");const t={2:"X-wing",3:"Swordfish",4:"Jellyfish"}[e];return n=>{var s,r;const o=new Set(this.snapshot.vertices),i=new Array,a=[{type:"initial",logs:[`title apprentice "${t}"`],snapshot:{annotations:i}},{type:"final",logs:[],snapshot:{vertices:o,annotations:[]}}];for(const l of n.loopFaceConfig(e,[["key",["rk"],["ck"]],["key",["ck"],["rk"]]])){const e=l.face,n=l.strongEdges,c=l.strongVertices,d=l.weakEdges,h=l.weakOnlyVertices,f=[...c.mapUnion((e=>e.$.rc)).map((e=>e.id))],u=[...c.map((e=>e.id))];null===(s=a[0].logs)||void 0===s||s.push(`log "#key:${e.id} of #cell:${f} form a ${null==t?void 0:t.toLocaleLowerCase()}."`),i.push(`highlight mark ${u} as determined`),n.forEach((e=>{i.push(`highlight ${e.proj.type} ${e.proj.id} as based`)})),d.forEach((e=>{i.push(`highlight ${e.proj.type} ${e.proj.id} as affected`)})),i.push(`highlight cell ${f} as intersect`);for(const e of h)o.delete(e.id),null===(r=a[1].logs)||void 0===r||r.push(`log "#v:${e.id} is erased."`),i.push(`highlight mark ${e.id} as removed`);return a}return[]}},s.SOSolver.prototype.frankenFishGenerator=function(e){if(!Number.isInteger(e)||e<2||e>4)throw RangeError("Invalid range of parameter.");const t={2:"X-wing",3:"Swordfish",4:"Jellyfish"}[e];return n=>{var s,r;const o=new Set(this.snapshot.vertices),i=new Array,a=[{type:"initial",logs:[`title expert "Franken ${t}"`],snapshot:{annotations:i}},{type:"final",logs:[],snapshot:{vertices:o,annotations:[]}}];for(const l of n.loopFaceConfig(e,[["key",["rk","bk"],["ck","bk"]],["key",["ck","bk"],["rk","bk"]]])){const e=l.face,n=l.strongEdges,c=l.strongVertices,d=l.weakEdges,h=l.weakOnlyVertices,f=Set.union(...c.map((e=>e.$.rc))).map((e=>e.id)),u=[...c.map((e=>e.id))];null===(s=a[0].logs)||void 0===s||s.push(`log "#key:${e.id} of #cell:${f} form a Franken ${null==t?void 0:t.toLocaleLowerCase()}."`),i.push(`highlight mark ${u} as determined`),n.forEach((e=>{i.push(`highlight ${e.proj.type} ${e.proj.id} as based`)})),d.forEach((e=>{i.push(`highlight ${e.proj.type} ${e.proj.id} as affected`)})),i.push(`highlight cell ${f} as intersect`);for(const e of h)o.delete(e.id),null===(r=a[1].logs)||void 0===r||r.push(`log "#v:${e.id} is erased."`),i.push(`highlight mark ${e.id} as removed`);return a}return[]}}},954:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(424);s.SOSolver.prototype.hiddenSingle=function(e){var t,n;const s=new Set(this.snapshot.vertices),r=new Set(this.snapshot.determined),o=new Array,i=new Array,a=[{type:"initial",logs:['title novice "Hidden Single"'],snapshot:{annotations:o}},{type:"middle",logs:[],snapshot:{vertices:s,determined:r,annotations:i}},{type:"final",logs:[],snapshot:{annotations:[]}}];for(const l of e.loopEdges(["rk","ck","bk"])){const e=l.proj,c=l.$.v;if(c.size>1)continue;const d=[...c][0];if(r.has(d.id))continue;const h=d.$.rc,f=h.mapUnion((e=>e.$.v));if(f.delete(d),0==f.size)continue;const u=[...h.map((e=>e.id))];null===(t=a[0].logs)||void 0===t||t.push(`log "#v:${d.id} is a hidden single in #${e.type}:${e.id}."`),o.push(`highlight mark ${d.id} as determined`),o.push(`highlight ${e.type} ${e.id} as based`),o.push(`highlight cell ${u} as intersect`);for(const e of f)s.delete(e.id),null===(n=a[1].logs)||void 0===n||n.push(`log "#v:${e.id} is in the same cell as the hidden single, hence is removed."`),o.push(`highlight mark ${e.id} as removed`);return r.add(d.id),i.push(`highlight cell ${u} as determined`),a}return[]},s.SOSolver.prototype.hiddenSubsetGenerator=function(e){if(!Number.isInteger(e)||e<2||e>4)throw RangeError("Invalid range of parameter.");const t={2:"Pair",3:"Triple",4:"Quad"}[e];return n=>{var s,r;const o=new Set(this.snapshot.vertices),i=new Array,a=[{type:"initial",logs:[`title apprentice "Hidden ${t}"`],snapshot:{annotations:i}},{type:"final",logs:[],snapshot:{vertices:o,annotations:[]}}];for(const l of n.loopFaceConfig(e,[["row",["rk"],["rc"]],["col",["ck"],["rc"]],["box",["bk"],["rc"]]])){const e=l.face,n=l.strongVertices,c=l.weakEdges,d=l.weakOnlyVertices,h=[...c.map((e=>e.id))],f=[...n.map((e=>e.id))];null===(s=a[0].logs)||void 0===s||s.push(`log "#cell:${h} form a hidden ${null==t?void 0:t.toLocaleLowerCase()} in #${e.type}:${e.id}."`),i.push(`highlight mark ${f} as determined`),i.push(`highlight ${e.type} ${e.id} as based`),i.push(`highlight cell ${h} as intersect`);for(const e of d)o.delete(e.id),null===(r=a[1].logs)||void 0===r||r.push(`log "#v:${e.id} is erased."`),i.push(`highlight mark ${e.id} as removed`);return a}return[]}}},539:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(424);s.SOSolver.prototype.intersectionPointing=function(e){var t,n;const s=new Set(this.snapshot.vertices),r=new Array,o=[{type:"initial",logs:['title novice "Intersection (Pointing)"'],snapshot:{annotations:r}},{type:"final",logs:[],snapshot:{vertices:s,annotations:[]}}];for(const[i,a]of e.loopLineBox()){const e=a.$.v,l=i.$.v,c=Set.intersection(e,l);if(!(e.size==c.size&&l.size>c.size))continue;const d=[...c.map((e=>e.id))],h=[...Set.intersection(i.$.rc,a.$.rc).map((e=>e.id))];null===(t=o[0].logs)||void 0===t||t.push(`log "The #box:${a.proj.id} and #${i.proj.type}:${i.proj.id} forms a locked configuration."`),r.push(`highlight mark ${d} as determined`),r.push(`highlight ${i.proj.type} ${i.proj.id} as affected`),r.push(`highlight box ${a.proj.id} as based`),r.push(`highlight cell ${h} as intersect`);for(const e of Set.diff(l,c))s.delete(e.id),null===(n=o[1].logs)||void 0===n||n.push(`log "#v:${e.id} in #${i.proj.type}:${a.proj.id} is erased by the pointer."`),r.push(`highlight mark ${e.id} as removed`);return o}return[]},s.SOSolver.prototype.intersectionClaiming=function(e){var t,n;const s=new Set(this.snapshot.vertices),r=new Array,o=[{type:"initial",logs:['title novice "Intersection (Claiming)"'],snapshot:{annotations:r}},{type:"final",logs:[],snapshot:{vertices:s,annotations:[]}}];for(const[i,a]of e.loopLineBox()){const e=a.$.v,l=i.$.v,c=Set.intersection(e,l);if(!(l.size==c.size&&e.size>c.size))continue;const d=[...c.map((e=>e.id))],h=[...Set.intersection(i.$.rc,a.$.rc).map((e=>e.id))];null===(t=o[0].logs)||void 0===t||t.push(`log "The #box:${a.proj.id} and #${i.proj.type}:${i.proj.id} forms a locked configuration."`),r.push(`highlight mark ${d} as determined`),r.push(`highlight box ${a.proj.id} as affected`),r.push(`highlight ${i.proj.type} ${i.proj.id} as based`),r.push(`highlight cell ${h} as intersect`);for(const t of Set.diff(e,c))s.delete(t.id),null===(n=o[1].logs)||void 0===n||n.push(`log "#v:${t.id} in #box:${a.proj.id+1} is erased by the claimer."`),r.push(`highlight mark ${t.id} as removed`);return o}return[]}},739:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(660),r=n(110),o=n(316),i=n(424);i.SOSolver.prototype.computeGroupedEdges=function(e){return e.computeGroupedEdges(),[]},i.SOSolver.prototype.computeALEdges=function(e,t){return n=>(n.computeALEdges(e,t),[])},o.SOPuzzle.prototype.loopLineBox=function*(){for(const e of["rk","ck"])for(const t of this.adE[e])for(const e of t.$.bk)yield[t,e]},o.SOPuzzle.prototype.loopFaceConfig=function*(e,t){for(const[n,s,r]of t)for(const t of this.adF[n]){const n=new Set(t.incident(s)).filter((e=>e.$.v.size>1));for(const s of n.subsets(e)){const n=s.mapUnion((e=>e.$.v)),i=new Set(o.SOPuzzle.incident(n,r));if(i.size>e)continue;const a=i.mapUnion((e=>e.$.v)),l=Set.diff(a,n);if(0==l.size)continue;const c={face:t,strongEdges:s,strongVertices:n,weakEdges:i,weakVertices:a,weakOnlyVertices:l};yield c}}},o.SOPuzzle.prototype.computeGroupedEdges=function(){for(const e of["rk","ck"])for(const t of this.adE[e])for(const e of t.$.bk){const n=Set.diff(e.$.v,t.$.v),s=Set.diff(t.$.v,e.$.v),r=Set.intersection(t.$.v,e.$.v);if(0==n.size||0==s.size)continue;if(n.size>1&&s.size>1)continue;if(1==r.size)continue;const i=r.map((e=>e.name)),a=new o.SOVertex("abstract",-1,[...i].join("|")),l=new o.SOEdge("grp",t.id,t.name);l.$.v.add(a),a.$.grp.add(l);for(const e of s){e.$.grp.add(l),l.$.v.add(e);for(const t of e.incident(o.SOPuzzle.edgeTypes))l.$.grp.add(t)}this.adE.grp.push(l);const c=new o.SOEdge("grp",e.id,e.name);a.$.grp.add(c),c.$.v.add(a);for(const e of n){e.$.grp.add(c),c.$.v.add(e);for(const t of e.incident(o.SOPuzzle.edgeTypes))c.$.grp.add(t)}this.adE.grp.push(c)}},o.SOPuzzle.prototype.computeALEdges=function(e,t){for(const n of(0,s.range)(2,e+1))for(const[e,s,i]of t)for(const t of this.adF[e]){const e=new Set(t.incident(s)).filter((e=>e.$.v.size>1));for(const t of e.subsets(n)){const e=r.MSet.add(...t.map((e=>e.$.v))),a=new Set(o.SOPuzzle.incident(e.keys(),i));for(const l of a.subsets(n)){const n=r.MSet.add(...l.map((e=>e.$.v))),a=r.MSet.diff(n,e),c=new r.MSet,d=new r.MSet;for(const[e,t]of a)t>0?d.set(e,t):t<0&&c.set(e,t);if(d.count>d.size||c.count<-1)continue;const h=s.indexOf("rc")>=0||i.indexOf("rc")>=0?"als":"alf",f=[...Set.intersection(new Set(e.elements()),new Set(n.elements()))].map((e=>e.name)).join("|"),u=[...t].map((e=>e.name)).join("|"),p=[...l].map((e=>e.name)).join("|"),m=new o.SOVertex("abstract",-1,f),g=new o.SOEdge(h,-1,u),y=new o.SOEdge(h,-1,p);m.$[h].add(g).add(y),g.$.v.add(m),y.$.v.add(m);for(const e of c.elements())e.$[h].add(g),g.$.v.add(e);for(const e of d.elements())e.$[h].add(y),y.$.v.add(e);this.adE[h].push(g),this.adE[h].push(y)}}}}},326:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(424);s.SOSolver.prototype.nakedSingle=function(e){let t=!1;const n=new Set(this.snapshot.determined),s=new Array,r=[{type:"initial",logs:['title novice "Naked Single"'],snapshot:{determined:n,annotations:s}},{type:"final",logs:[],snapshot:{annotations:[]}}];for(const r of e.adE.rc){const e=r.$.v,o=[...e][0];1!=e.size||n.has(o.id)||(t=!0,n.add(o.id),o.$.rc.forEach((e=>{s.push(`highlight cell ${e.id} as determined`)})))}return t?r:[]},s.SOSolver.prototype.nakedSubsetGenerator=function(e){if(!Number.isInteger(e)||e<2||e>4)throw RangeError("Invalid range of parameter.");const t={2:"Pair",3:"Triple",4:"Quad"}[e];return n=>{var s,r;const o=new Set(this.snapshot.vertices),i=new Array,a=[{type:"initial",logs:[`title apprentice "Naked ${t}"`],snapshot:{annotations:i}},{type:"final",logs:[],snapshot:{vertices:o,annotations:[]}}];for(const l of n.loopFaceConfig(e,[["row",["rc"],["rk"]],["col",["rc"],["ck"]],["box",["rc"],["bk"]]])){const e=l.face,n=l.strongEdges,c=l.strongVertices,d=l.weakOnlyVertices,h=[...n.map((e=>e.id))],f=[...c.map((e=>e.id))];null===(s=a[0].logs)||void 0===s||s.push(`log "#cell:${h} form a naked ${null==t?void 0:t.toLocaleLowerCase()} in #${e.type}:${e.id}."`),i.push(`highlight mark ${f} as determined`),i.push(`highlight ${e.type} ${e.id} as affected`),i.push(`highlight cell ${h} as intersect`);for(const e of d)o.delete(e.id),null===(r=a[1].logs)||void 0===r||r.push(`log "#v:${e.id} is erased."`),i.push(`highlight mark ${e.id} as removed`);return a}return[]}}},771:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(424).SOSolver.prototype.obviousCandidateRemoval=function(e){let t=!1;const n=new Set(this.snapshot.vertices),s=this.snapshot.determined,r=new Array,o=[{type:"initial",logs:['title novice "Obvious Candidate Removal"'],snapshot:{pencilmarked:new Set(e.adE.rc.keys()),annotations:r}},{type:"final",logs:[],snapshot:{vertices:n,annotations:[]}}];for(const o of s){const s=e.adV[o];for(const o of e.getVisibles(s))t=!0,n.delete(o.id),r.push(`highlight mark ${o.id} as removed`)}return t?o:[]}},975:function(e,t,n){var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(739),t),r(n(771),t),r(n(326),t),r(n(954),t),r(n(539),t),r(n(613),t),r(n(273),t)},554:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PuzzleCanvas=t.SVG=void 0,n(361);const s=n(660);class r{constructor(e,t){return this.element=document.createElementNS("http://www.w3.org/2000/svg",e),"svg"==e&&this.attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),this.attr(t)}html(e){return this.element.innerHTML=e,this}attr(e={}){for(const t in e)void 0===e[t]||null==e[t]?this.element.removeAttribute(t):this.element.setAttribute(t,e[t]);return this}addTo(e){return e instanceof r&&(e=e.element),e.contains(this.element)||e.appendChild(this.element),this}remove(e){return e instanceof r&&(e=e.element),this.element.contains(e)&&this.element.removeChild(e),this}use(e,t){return new r("use").attr({href:e}).attr(t).addTo(this.element)}g(e){return new r("g").attr(e).addTo(this.element)}defs(e){return new r("defs").attr(e).addTo(this.element)}symbol(e){return new r("symbol").attr(e).addTo(this.element)}rect(e){return new r("rect").attr(e).addTo(this.element)}circle(e){return new r("circle").attr(e).addTo(this.element)}ellipse(e){return new r("ellipse").attr(e).addTo(this.element)}line(e){return new r("line").attr(e).addTo(this.element)}polygon(e){return new r("polygon").attr(e).addTo(this.element)}polyline(e){return new r("polyline").attr(e).addTo(this.element)}path(e){return new r("path").attr(e).addTo(this.element)}text(e,t){return new r("text").html(e).attr(t).addTo(this.element)}}t.SVG=r;class o{constructor(e){this.group=e,this.elements=new Map}get(e){return this.elements.get(e)}set(e,t){this.elements.set(e,t)}show(e){if(this.elements.has(e))return this.elements.get(e).addTo(this.group)}hide(e){if(!this.elements.has(e))return;const t=this.elements.get(e);return this.group.remove(t.element),t}showAll(){return this.elements.map(((e,t)=>t.addTo(this.group))),this}hideAll(){return this.elements.map(((e,t)=>this.group.remove(t))),this}clearStyle(e){const t=e instanceof r?e:this.elements.get(e),n=["fill","stroke","stroke-width"];if(void 0!==t){for(const e of n)t.element.removeAttribute(e);return t}}clearAll(){return this.elements.map(((e,t)=>this.clearStyle(t))),this}}class i extends r{constructor(e={}){super("svg");const t=i.computeStyle(e);this.attr({width:t["canvas-width"],height:t["canvas-height"],viewBox:`0 0 ${t["canvas-width"]} ${t["canvas-height"]}`,"text-anchor":"middle","dominant-baseline":"middle"});const n=t.rows,a=t.columns,l=t.dimension,c=Math.pow(l,2);if(this.rect({id:"bg",width:t["canvas-width"],height:t["canvas-height"]}).attr(t.background),this.headerGroup=this.g({id:"header"}).attr(t["header-font"]),"display"==t.headers){const e=.5*(t["header-size"]+t["grid-padding"]);for(const s of new Array(n).keys()){const n=i.cellCenterXY(0,s,t);this.headerGroup.text(t["header-row-symbols"].charAt(s),{x:e,y:n[1]})}for(const n of new Array(a).keys()){const s=i.cellCenterXY(n,0,t);this.headerGroup.text(t["header-column-symbols"].charAt(n),{x:s[0],y:e})}}const d=t["cell-size"];this.cellRects=new o(this.g({id:"cell_rect",fill:"white"})),this.cellTexts=new o(this.g({id:"cell_text"}).attr(t["cell-font"]));for(const[e,o]of(0,s.multirange)(n,a)){const n=o*a+e,s=i.cellXY(e,o,t);this.cellRects.set(n,new r("rect",{x:s[0],y:s[1],width:d,height:d,rx:4,ry:4})),this.cellTexts.set(n,new r("text",{x:s[0]+.5*d,y:s[1]+.5*d}))}const h=t["mark-size"];this.markRects=new o(this.g({id:"mark_rect"})),this.markTexts=new o(this.g({id:"mark_text"}).attr(t["mark-font"]));for(const[e,o,l]of(0,s.multirange)(a,n,c)){const n=(o*a+e)*c+l,s=i.markXY(e,o,l,t);this.markRects.set(n,new r("rect",{x:s[0],y:s[1],width:h,height:h,rx:4,ry:4})),this.markTexts.set(n,new r("text").html(t["mark-symbols"].charAt(l)).attr({x:s[0]+.5*h,y:s[1]+.5*h}))}this.drawing=this.g({id:"drawing"}),this.cellRects.showAll(),this.style=t}static computeStyle(e={}){if((e=Object.assign(Object.assign({},i.options),e)).rows!=e["header-row-symbols"].length)throw RangeError("The length of the row header does not match the number of rows.");if(e.columns!=e["header-column-symbols"].length)throw RangeError("The length of the column header does not match the number of columns.");if(Math.pow(e.dimension,2)!=e["mark-symbols"].length)throw RangeError("The length of the column header does not match the number of columns.");const t=e.dimension;e["cell-size"]=t*e["mark-size"]+(t-1)*e["cell-inner-sep"]+2*e["cell-padding"],e["box-size"]=t*e["cell-size"]+(t-1)*e["box-inner-sep"]+2*e["box-padding"];const n=[e.columns,e.rows],s=n.map((e=>Math.ceil(e/t))),r=n.map(((t,r)=>n[r]*e["cell-size"]+(n[r]-s[r])*e["box-inner-sep"]+2*s[r]*e["box-padding"]+(s[r]-1)*e["grid-inner-sep"]+2*e["grid-padding"]));return e["grid-width"]=r[0],e["grid-height"]=r[1],e["canvas-width"]=e["grid-width"]+("display"==e.headers?e["header-size"]:0),e["canvas-height"]=e["grid-height"]+("display"==e.headers?e["header-size"]:0),e}static cellXY(e,t,n){if(!("cell-size"in n))throw TypeError("The property 'cell-size' has not been computed yet.");const s=n.dimension,r=[e,t],o=r.map((e=>Math.trunc(e/s)));return r.map(((e,t)=>("display"==n.headers?n["header-size"]:0)+o[t]*n["grid-inner-sep"]+n["grid-padding"]+(r[t]-o[t])*n["box-inner-sep"]+(2*o[t]+1)*n["box-padding"]+r[t]*n["cell-size"]))}static cellCenterXY(e,t,n){if(!("cell-size"in n))throw TypeError("The property 'cell-size' has not been computed yet.");return i.cellXY(e,t,n).map((e=>e+.5*n["cell-size"]))}static markXY(e,t,n,s){if(!("cell-size"in s))throw TypeError("The property 'cell-size' has not been computed yet.");const r=s.dimension,o=[e,t],a=i.cellXY(e,t,s),l=[n%r,Math.trunc(n/r)];return o.map(((e,t)=>a[t]+l[t]*(s["cell-inner-sep"]+s["mark-size"])+s["cell-inner-sep"]))}static markCenterXY(e,t,n,s){return i.markXY(e,t,n,s).map((e=>e+.5*s["mark-size"]))}}t.PuzzleCanvas=i,i.options={rows:9,columns:9,dimension:3,"mark-size":14,"mark-symbols":"123456789","cell-inner-sep":1,"cell-padding":1,"box-inner-sep":1,"box-padding":0,"grid-inner-sep":3,"grid-padding":4,headers:"display","header-size":12,"header-row-symbols":"ABCDEFGHJ","header-column-symbols":"123456789",background:{fill:"black",rx:4,ry:4},"header-font":{"font-family":"Helvetica","font-size":10,fill:"white"},"mark-font":{"font-family":"Helvetica","font-size":9,fill:"black"},"cell-font":{"font-family":"Helvetica","font-size":30,fill:"black"},"rect:removed":{fill:"yellow",stroke:"pink","stroke-width":.75},"rect:determined":{fill:"#6fff83",stroke:"olive","stroke-width":.75},"rect:based":{fill:"#00CED1",stroke:"#2F4F4F","stroke-width":.75},"rect:intersect":{fill:"#73b2ff",stroke:"blue","stroke-width":.75},"rect:affected":{fill:"pink",stroke:"red","stroke-width":.75},"text:removed":{fill:"red"},"text:determined":{fill:"blue"},"text:intersect":{},"text:based":{},"text:affected":{}}},787:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Caretaker=t.Memento=t.Originator=void 0,t.Originator=class{};class n{constructor(e="undefined",t){this.type="undefined",this.type=e,this.snapshot={},this.logs=[],this.selected=NaN,void 0!==t&&this.copyFrom(t)}isInitial(){return null!=this.type.match(/initial/)}isFinal(){return null!=this.type.match(/final/)}copyFrom(e){var t,n,s;return this.type=null!==(t=e.type)&&void 0!==t?t:this.type,this.logs=null!==(n=e.logs)&&void 0!==n?n:this.logs,this.selected=e.selected&&NaN!=e.selected?e.selected:this.selected,Object.assign(this.snapshot,null!==(s=e.snapshot)&&void 0!==s?s:{}),this}}t.Memento=n,t.Caretaker=class{constructor(e){this.history=new Array,this.time=-1,this.originator=e}atEnd(){return this.time==this.history.length-1}now(){var e;return null!==(e=this.history[this.time])&&void 0!==e?e:null}last(){var e;return null!==(e=this.history[this.history.length-1])&&void 0!==e?e:null}getLastFinalTime(e){for(let t=e;t>=0;t--)if(this.history[t].isFinal())return t;return-1}init(e){this.history=[],this.history.push(e),this.time=0}addSegment(e){const t=this.getLastFinalTime(this.time);if(-1==t)throw RangeError("Something is wrong; there are no final events up to the specified time.");this.history=this.history.slice(0,t+1);for(const t of e)this.history.push((new n).copyFrom(this.last()).copyFrom(t))}moveTo(e){return!(e>=this.history.length||e<0||(this.time=e,this.originator.load(this.history[this.time],this.time),0))}moveBy(e){return this.moveTo(this.time+e)}}}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,n),o.exports}(()=>{n(361);const e=n(316),t=n(924),s=n(997),r=n(787),o=n(424);n(975);const i=document.getElementById("logs"),a=document.getElementById("puzzle"),l=new e.SOPuzzle(3),c=new o.SOSolver(l);c.canvas.addTo(a);const d=new r.Caretaker(c),h={log(e,t={}){const n=document.createElement("div");for(const e in t)n.setAttribute(e,t[e]);n.innerHTML=e,i.appendChild(n)},clear(){i.replaceChildren()}};var f;c.printLogs=(e,t)=>{let n=!1;for(let e=i.children.length-1;e>=0;e--){const s=i.children[e],r=Number.parseInt(s.getAttribute("time")||"99999");r>t?i.removeChild(s):r==t&&(n=!0)}if(!n)for(const n of e){const e={time:t.toString()},s=n.match(/^title novice "(.*)"$/),r=n.match(/^title apprentice "(.*)"$/),o=n.match(/^title expert "(.*)"$/),i=n.match(/log "(.*)"/);s?(e.style="font-weight: bold; background-color: #E0E0E0;",h.log(s[1],e)):r?(e.style="font-weight: bold; background-color: #F0E68C;",h.log(r[1],e)):o?(e.style="font-weight: bold; background-color: #6495ED; color: white;",h.log(o[1],e)):i&&h.log(i[1],e)}},function(n){var o,i,a,f,u,p;const m=[c.obviousCandidateRemoval,c.nakedSingle,c.hiddenSingle,c.intersectionPointing,c.intersectionClaiming,c.nakedSubsetGenerator(2),c.nakedSubsetGenerator(3),c.hiddenSubsetGenerator(2),c.nakedSubsetGenerator(4),c.hiddenSubsetGenerator(3),c.hiddenSubsetGenerator(4),c.fishGenerator(2),c.fishGenerator(3),c.fishGenerator(4),c.frankenFishGenerator(2),c.frankenFishGenerator(3),c.frankenFishGenerator(4),c.AICGenerator("X-cycle",["rk","ck","bk"],["rk","ck","bk"],20),c.computeGroupedEdges,c.AICGenerator("Grouped X-cycle",["rk","ck","bk","grp"],["rk","ck","bk","grp"],20),c.AICGenerator("XY-chain",["rc"],["rk","ck","bk"],20),c.AICGenerator("Alternating Inference Chain",["rc","rk","ck","bk"],["rc","rk","ck","bk"],20),c.AICGenerator("Grouped AIC",["rc","rk","ck","bk","grp"],["rc","rk","ck","bk","grp"],20),c.computeALEdges(9,[["row",["rc"],["rk"]],["col",["rc"],["ck"]],["box",["rc"],["bk"]]]),c.AICGenerator("ALS AIC",["rc","rk","ck","bk","als"],["rc","rk","ck","bk","als"],20),c.computeALEdges(9,[["key",["rk"],["ck"]],["key",["ck"],["rk"]]]),c.AICGenerator("Full AIC",e.SOPuzzle.edgeTypes,e.SOPuzzle.edgeTypes,20)],g=()=>{if(console.time("benchmark"),d.atEnd()){const t=c.snapshot.vertices,n=new e.SOPuzzle(l.p,t);let s=!1;for(const e of m){const t=e.call(c,n);if(0!=t.length){d.addSegment(t),s=!0;break}}s||(h.log("Cannot proceed further.",{style:"background-color: red; color: white; font-weight: bold;"}),k.isActive=!0,w())}d.moveBy(1),console.timeEnd("benchmark")},y=document.getElementById("samples");for(const[e,t]of s.database.entries()){const n=document.createElement("option");n.value=e.toString(),n.innerText=null!==(o=t.desc)&&void 0!==o?o:`Sample #${e+1}`,n.selected=0==e,y.appendChild(n)}const v=()=>{if(h.clear(),y.selectedIndex>=0){const n=s.database[y.selectedIndex];((n,s="base64")=>{const o=t.SOGameIO.import(l,n,s),i=new e.SOPuzzle(l.p,o),a=Set.union(...i.adE.rc.filter((e=>1==e.$.v.size)).map((e=>e.$.v.map((e=>e.id)))));c.snapshot.vertices=o,c.snapshot.clues=a,c.snapshot.determined=a,c.snapshot.pencilmarked=new Set,c.snapshot.annotations=[],d.init(new r.Memento("initial|final",{snapshot:c.snapshot,logs:["Puzzle loaded."],selected:-1})),c.render()})(n.data,n.format)}else h.log("No puzzle is selected.")};v();const k={isActive:!1,handle:-1,button:document.getElementById("auto")},w=()=>{k.isActive?(k.isActive=!1,clearInterval(k.handle),k.button.innerHTML="Auto"):(k.isActive=!0,k.handle=setInterval(g,25),k.button.innerHTML="Stop")};null===(i=document.getElementById("prev"))||void 0===i||i.addEventListener("click",(()=>{d.moveBy(-1)})),null===(a=document.getElementById("next"))||void 0===a||a.addEventListener("click",g),null===(f=document.getElementById("export"))||void 0===f||f.addEventListener("click",(()=>{const e=d.now().snapshot.vertices;h.clear(),h.log(`simple: ${t.SOGameIO.export(l,e,"simple")}`),h.log(`base64: ${t.SOGameIO.export(l,e)}`),navigator.clipboard.writeText(`data:image/svg+xml;base64,${btoa(c.canvas.element.outerHTML)}`)})),y.addEventListener("change",v),null===(u=document.getElementById("import"))||void 0===u||u.addEventListener("click",v),null===(p=document.getElementById("apply_cmd"))||void 0===p||p.addEventListener("click",(()=>{var e,t;const n=document.getElementById("cmd"),s=n.value;null===(t=null===(e=d.now())||void 0===e?void 0:e.snapshot.annotations)||void 0===t||t.push(s),c.load(d.now(),d.time),n.value=""})),k.button.addEventListener("click",w)}(f||(f={}))})()})();